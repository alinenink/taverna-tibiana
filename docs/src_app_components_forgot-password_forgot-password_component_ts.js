(self["webpackChunktaverna_tibiana"] = self["webpackChunktaverna_tibiana"] || []).push([["src_app_components_forgot-password_forgot-password_component_ts"],{

/***/ 1523:
/*!**************************************************************************************!*\
  !*** ./src/app/components/forgot-password/forgot-password.component.scss?ngResource ***!
  \**************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ 3142);
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ 5950);
var ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.consulta-layout {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.parchment-card {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.button-medieval {
  width: 100%;
  max-width: 320px;
  margin: 0.7rem auto 0 auto;
  display: block;
}

.input-icon-group.forgot-group {
  display: flex;
  align-items: center;
  width: 100%;
  max-width: 320px;
  justify-content: flex-start;
  border: none;
  background: none;
  border-radius: 0;
  margin-bottom: 1.2rem;
  margin-left: auto;
  margin-right: auto;
}

.input-icon {
  display: flex;
  align-items: center;
  height: 44px;
  padding-left: 0;
  margin-right: 0.5em;
  background: none;
}

.forgot-input {
  height: 44px;
  line-height: 44px;
  width: 100%;
  max-width: 320px;
  border: 1.5px solid #a67c52;
  border-radius: 6px;
  background: #fdf8e4;
  font-size: 1.08rem;
  font-family: "MedievalSharp", serif;
  padding: 0 1em;
  box-sizing: border-box;
  text-align: center;
}

.login-links {
  display: flex;
  justify-content: center;
  margin-top: 1.5rem;
  margin-bottom: 1em;
}

.login-links .medieval-link {
  text-decoration: underline;
}

.medieval-msg-btn {
  display: inline;
  margin: 1.2em auto 0 auto;
  padding: 0;
  font-size: 1rem;
  font-family: "MedievalSharp", serif;
  background: none;
  border: none;
  color: #7b5e3b;
  cursor: pointer;
  text-decoration: underline;
  transition: color 0.2s;
  box-shadow: none;
  border-radius: 0;
}`, "",{"version":3,"sources":["webpack://./src/app/components/forgot-password/forgot-password.component.scss","webpack://./../../Projetos%20Pessoais/charlovinho/src/app/components/forgot-password/forgot-password.component.scss"],"names":[],"mappings":"AAAA;EACE,aAAA;EACA,sBAAA;EACA,mBAAA;EACA,uBAAA;ACCF;;ADEA;EACE,aAAA;EACA,sBAAA;EACA,mBAAA;ACCF;;ADEA;EACE,WAAA;EACA,gBAAA;EACA,0BAAA;EACA,cAAA;ACCF;;ADEA;EACE,aAAA;EACA,mBAAA;EACA,WAAA;EACA,gBAAA;EACA,2BAAA;EACA,YAAA;EACA,gBAAA;EACA,gBAAA;EACA,qBAAA;EACA,iBAAA;EACA,kBAAA;ACCF;;ADEA;EACE,aAAA;EACA,mBAAA;EACA,YAAA;EACA,eAAA;EACA,mBAAA;EACA,gBAAA;ACCF;;ADEA;EACE,YAAA;EACA,iBAAA;EACA,WAAA;EACA,gBAAA;EACA,2BAAA;EACA,kBAAA;EACA,mBAAA;EACA,kBAAA;EACA,mCAAA;EACA,cAAA;EACA,sBAAA;EACA,kBAAA;ACCF;;ADEA;EACE,aAAA;EACA,uBAAA;EACA,kBAAA;EACA,kBAAA;ACCF;;ADEA;EACE,0BAAA;ACCF;;ADEA;EACE,eAAA;EACA,yBAAA;EACA,UAAA;EACA,eAAA;EACA,mCAAA;EACA,gBAAA;EACA,YAAA;EACA,cAAA;EACA,eAAA;EACA,0BAAA;EACA,sBAAA;EACA,gBAAA;EACA,gBAAA;ACCF","sourcesContent":[".consulta-layout {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.parchment-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.button-medieval {\r\n  width: 100%;\r\n  max-width: 320px;\r\n  margin: 0.7rem auto 0 auto;\r\n  display: block;\r\n}\r\n\r\n.input-icon-group.forgot-group {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 320px;\r\n  justify-content: flex-start;\r\n  border: none;\r\n  background: none;\r\n  border-radius: 0;\r\n  margin-bottom: 1.2rem;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.input-icon {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 44px;\r\n  padding-left: 0;\r\n  margin-right: 0.5em;\r\n  background: none;\r\n}\r\n\r\n.forgot-input {\r\n  height: 44px;\r\n  line-height: 44px;\r\n  width: 100%;\r\n  max-width: 320px;\r\n  border: 1.5px solid #a67c52;\r\n  border-radius: 6px;\r\n  background: #fdf8e4;\r\n  font-size: 1.08rem;\r\n  font-family: 'MedievalSharp', serif;\r\n  padding: 0 1em;\r\n  box-sizing: border-box;\r\n  text-align: center;\r\n}\r\n\r\n.login-links {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 1.5rem;\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.login-links .medieval-link {\r\n  text-decoration: underline;\r\n}\r\n\r\n.medieval-msg-btn {\r\n  display: inline;\r\n  margin: 1.2em auto 0 auto;\r\n  padding: 0;\r\n  font-size: 1rem;\r\n  font-family: 'MedievalSharp', serif;\r\n  background: none;\r\n  border: none;\r\n  color: #7b5e3b;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n  transition: color 0.2s;\r\n  box-shadow: none;\r\n  border-radius: 0;\r\n}\r\n",".consulta-layout {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.parchment-card {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.button-medieval {\n  width: 100%;\n  max-width: 320px;\n  margin: 0.7rem auto 0 auto;\n  display: block;\n}\n\n.input-icon-group.forgot-group {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 320px;\n  justify-content: flex-start;\n  border: none;\n  background: none;\n  border-radius: 0;\n  margin-bottom: 1.2rem;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.input-icon {\n  display: flex;\n  align-items: center;\n  height: 44px;\n  padding-left: 0;\n  margin-right: 0.5em;\n  background: none;\n}\n\n.forgot-input {\n  height: 44px;\n  line-height: 44px;\n  width: 100%;\n  max-width: 320px;\n  border: 1.5px solid #a67c52;\n  border-radius: 6px;\n  background: #fdf8e4;\n  font-size: 1.08rem;\n  font-family: \"MedievalSharp\", serif;\n  padding: 0 1em;\n  box-sizing: border-box;\n  text-align: center;\n}\n\n.login-links {\n  display: flex;\n  justify-content: center;\n  margin-top: 1.5rem;\n  margin-bottom: 1em;\n}\n\n.login-links .medieval-link {\n  text-decoration: underline;\n}\n\n.medieval-msg-btn {\n  display: inline;\n  margin: 1.2em auto 0 auto;\n  padding: 0;\n  font-size: 1rem;\n  font-family: \"MedievalSharp\", serif;\n  background: none;\n  border: none;\n  color: #7b5e3b;\n  cursor: pointer;\n  text-decoration: underline;\n  transition: color 0.2s;\n  box-shadow: none;\n  border-radius: 0;\n}"],"sourceRoot":""}]);
// Exports
module.exports = ___CSS_LOADER_EXPORT___.toString();


/***/ }),

/***/ 3027:
/*!**************************************************************************************!*\
  !*** ./src/app/components/forgot-password/forgot-password.component.html?ngResource ***!
  \**************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<div class=\"parchment-background\">\r\n  <div class=\"consulta-layout\">\r\n    <h1 class=\"tavernatibiana-title\">Recuperar Juramento</h1>\r\n    <form class=\"parchment-card\" (ngSubmit)=\"recuperar()\">\r\n      <div class=\"medieval-disclaimer\">\r\n        <p>üßô‚Äç‚ôÇÔ∏è <strong>Perdeste tua palavra m√°gica, aventureiro?</strong></p>\r\n        <p>\r\n          N√£o temas! Informe abaixo o teu <strong>email m√°gico</strong> e\r\n          enviaremos um pergaminho encantado para restaurar teu acesso √†\r\n          taverna.<br />\r\n          <em\r\n            >Verifique tamb√©m a pasta de spam, pois √†s vezes os corvos\r\n            mensageiros se perdem!</em\r\n          >\r\n        </p>\r\n      </div>\r\n      <div *ngIf=\"erro\" class=\"login-error medieval-msg\">{{ erro }}</div>\r\n      <div *ngIf=\"sucesso\" class=\"register-success medieval-msg\">{{ sucesso }}</div>\r\n      <div *ngIf=\"emailEnviado\" class=\"login-links\">\r\n        <button class=\"medieval-link medieval-msg-btn\" (click)=\"goToHome()\">Clique aqui para voltar √† Taverna</button>\r\n      </div>\r\n      <div class=\"input-icon-group forgot-group\">\r\n        <span class=\"input-icon\">\r\n          <img src=\"assets/wizard.svg\" alt=\"Email\" class=\"svg-icon\" />\r\n        </span>\r\n        <input id=\"email\" class=\"input-medieval forgot-input\" type=\"email\" [(ngModel)]=\"email\" name=\"email\" placeholder=\"Email m√°gico\" required />\r\n      </div>\r\n      <button class=\"button-medieval\" type=\"submit\" [disabled]=\"carregando\">\r\n        Recuperar Juramento\r\n      </button>\r\n      <div class=\"login-links\">\r\n        <a class=\"medieval-link\" (click)=\"goToHome()\">J√° tens uma conta? Voltar √† Taverna</a>\r\n      </div>\r\n      <div *ngIf=\"carregando\" class=\"svg-loader-overlay\">\r\n        <div class=\"svg-loader\">\r\n          <svg\r\n            fill=\"#000000\"\r\n            height=\"80px\"\r\n            width=\"80px\"\r\n            viewBox=\"0 0 452.022 452.022\"\r\n          >\r\n            <g id=\"SVGRepo_iconCarrier\">\r\n              <path\r\n                d=\"M440.761,380.351l-50.512-50.512l24.481-24.481c3.905-3.905,3.905-10.237,0-14.143c-3.905-3.904-10.237-3.904-14.143,0 l-9.494,9.494l-42.368-42.368c6.562-23.401,9.894-47.59,9.894-72l-0.001-153.69c0-4.777-3.379-8.887-8.065-9.811 c-113.629-22.402-228.859-22.402-342.488,0C3.379,23.764,0,27.875,0,32.652v153.69c0,55.105,16.721,108.08,48.356,153.2 c31.635,45.119,75.739,78.897,127.545,97.681c1.101,0.399,2.255,0.599,3.409,0.599c1.154,0,2.308-0.2,3.41-0.599 c40.392-14.651,76.722-38.923,105.694-70.5l18.334,18.334l-9.494,9.494c-3.905,3.905,3.905,10.237,0,14.143 c1.953,1.953,4.512,2.929,7.071,2.929c2.559,0,5.119-0.977,7.071-2.929l24.481-24.481l50.512,50.512 c7.262,7.261,16.917,11.26,27.187,11.26s19.924-3.999,27.186-11.26c7.262-7.262,11.261-16.917,11.261-27.186 C452.022,397.268,448.023,387.613,440.761,380.351z\"\r\n              />\r\n            </g>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n";

/***/ }),

/***/ 9673:
/*!*************************************************************************!*\
  !*** ./src/app/components/forgot-password/forgot-password.component.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ForgotPasswordComponent: () => (/* binding */ ForgotPasswordComponent)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ 7824);
/* harmony import */ var _forgot_password_component_html_ngResource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./forgot-password.component.html?ngResource */ 3027);
/* harmony import */ var _forgot_password_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./forgot-password.component.scss?ngResource */ 1523);
/* harmony import */ var _forgot_password_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_forgot_password_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 7580);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 316);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ 4456);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ 5072);
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/auth.service */ 4796);








let ForgotPasswordComponent = class ForgotPasswordComponent {
  constructor(router, authService) {
    this.router = router;
    this.authService = authService;
    this.email = '';
    this.carregando = false;
    this.sucesso = '';
    this.erro = '';
    this.emailEnviado = false;
  }
  recuperar() {
    this.carregando = true;
    this.erro = '';
    this.sucesso = '';
    this.emailEnviado = false;
    this.authService.resetPassword(this.email).subscribe({
      next: res => {
        if (res.success) {
          this.sucesso = '<img src="assets/beer-mug.svg" alt="Criatura" class="svg-icon" /> Um pergaminho m√°gico foi enviado ao teu email! Siga as instru√ß√µes para restaurar teu juramento.';
          this.emailEnviado = true;
        } else {
          this.erro = res.message === 'Email n√£o encontrado' ? '‚ö†Ô∏è Nenhum aventureiro foi encontrado com esse email m√°gico. Confere o endere√ßo e tenta novamente!' : 'N√£o foi poss√≠vel enviar o pergaminho de recupera√ß√£o. Tente novamente mais tarde.';
          this.carregando = false;
        }
        this.carregando = false;
      },
      error: err => {
        if (err.status === 400 && err.error?.message) {
          this.erro = '‚ö†Ô∏è O taberneiro n√£o conseguiu enviar o pergaminho: ' + err.error.message;
        } else {
          this.erro = 'Erro inesperado na taverna. Tente novamente em alguns minutos.';
        }
        this.carregando = false;
      }
    });
  }
  goToHome() {
    this.router.navigate(['/login']);
  }
  static {
    this.ctorParameters = () => [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.Router
    }, {
      type: _services_auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService
    }];
  }
};
ForgotPasswordComponent = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.Component)({
  selector: 'app-forgot-password',
  standalone: true,
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormsModule],
  template: _forgot_password_component_html_ngResource__WEBPACK_IMPORTED_MODULE_0__,
  styles: [(_forgot_password_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1___default())]
}), (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__.Router, _services_auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService])], ForgotPasswordComponent);


/***/ })

}]);
//# sourceMappingURL=src_app_components_forgot-password_forgot-password_component_ts.js.map