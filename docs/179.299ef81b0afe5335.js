"use strict";(self.webpackChunktaverna_tibiana=self.webpackChunktaverna_tibiana||[]).push([[179],{4179:(O,g,l)=>{l.r(g),l.d(g,{WeaponDetailComponent:()=>M});var m=l(467),e=l(4020),u=l(177),_=l(4341),p=l(5085),h=l(4231),v=l(6706);function b(i,d){1&i&&(e.j41(0,"div",13)(1,"div",14),e.qSk(),e.j41(2,"svg",15),e.nrm(3,"g",16)(4,"g",17),e.j41(5,"g",18),e.nrm(6,"path",19),e.k0s()()()())}function P(i,d){1&i&&(e.j41(0,"button",20),e.EFF(1,"Voltar"),e.k0s()),2&i&&e.Y8G("routerLink","/grimorio")}function w(i,d){if(1&i){const n=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.voltarParaLista())}),e.EFF(1,"Voltar para categorias"),e.k0s()}}function k(i,d){if(1&i){const n=e.RV6();e.j41(0,"img",37),e.bIt("error",function(a){e.eBV(n);const o=e.XpG(2);return e.Njj(o.onImageError(a))})("load",function(a){e.eBV(n);const o=e.XpG(2);return e.Njj(o.onImageLoad(a,o.weapon()))}),e.k0s()}if(2&i){let n;const t=e.XpG(2);e.Y8G("src",t.getWeaponImageUrlDirect(t.weapon()),e.B4B)("alt",null==(n=t.weapon())?null:n.name)}}function x(i,d){if(1&i&&(e.j41(0,"span",38),e.EFF(1),e.k0s()),2&i){const n=e.XpG(2);e.R7$(),e.SpI(" ",n.getWeaponImageUrl(n.weapon())," ")}}function C(i,d){if(1&i){const n=e.RV6();e.j41(0,"div",22),e.nrm(1,"hr",23),e.j41(2,"div",24),e.nrm(3,"img",25),e.j41(4,"strong",9),e.EFF(5,"Tuas Armas Domadas (1)"),e.k0s()(),e.j41(6,"div",26),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.onWeaponClick(a.weapon()))}),e.j41(7,"div",27)(8,"div",28)(9,"div",29),e.DNE(10,k,1,2,"img",30)(11,x,2,1,"span",31),e.k0s(),e.j41(12,"div",32)(13,"h3",33),e.EFF(14),e.k0s(),e.j41(15,"p",34),e.EFF(16),e.k0s(),e.j41(17,"p",35),e.EFF(18),e.k0s(),e.j41(19,"p",36),e.EFF(20),e.k0s()()()()()()}if(2&i){let n,t,a,o;const r=e.XpG();e.R7$(10),e.Y8G("ngIf",r.hasWeaponImage(r.weapon())),e.R7$(),e.Y8G("ngIf",!r.hasWeaponImage(r.weapon())),e.R7$(3),e.JRh(null==(n=r.weapon())?null:n.name),e.R7$(2),e.JRh(r.getCategoryDisplayName((null==(t=r.weapon())?null:t.category)||"")),e.R7$(2),e.SpI("Data: ",(null==(a=r.weapon())?null:a.date)||"20/07/2025 \xe0s 15:17",""),e.R7$(2),e.SpI("",(null==(o=r.weapon())||null==o.levels?null:o.levels.length)||0," n\xedveis configurados")}}function y(i,d){if(1&i){const n=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"h2"),e.EFF(3,"Erro no Arsenal"),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s(),e.j41(6,"button",41),e.bIt("click",function(){let a;e.eBV(n);const o=e.XpG();return e.Njj(o.loadWeaponDetail((null==(a=o.weapon())?null:a.category)||"",(null==(a=o.weapon())?null:a.name)||""))}),e.EFF(7,"Tentar Novamente"),e.k0s()()()}if(2&i){const n=e.XpG();e.R7$(5),e.JRh(n.error())}}let M=(()=>{class i{constructor(n,t,a,o){this.route=n,this.router=t,this.weaponsService=a,this.proficiencyApiService=o,this.weapon=(0,e.vPA)(null),this.loading=(0,e.vPA)(!0),this.error=(0,e.vPA)(null),this.selectedPerks=(0,e.vPA)({}),this.saving=(0,e.vPA)(!1),this.saveMessage=(0,e.vPA)(null),this.saveSuccess=(0,e.vPA)(!1)}ngOnInit(){this.route.params.subscribe(n=>{this.loadWeaponDetail(n.category,n.name)})}loadWeaponDetail(n,t){this.loading.set(!0),this.error.set(null),this.weaponsService.getWeaponDetails(n,decodeURIComponent(t)).subscribe({next:a=>{if(a.success&&a.weapon){const o={name:a.weapon.name,category:a.category.id,image_url:`assets/itens/${a.weapon.name}.webp`,levels:this.convertProficiencyLevels(a.weapon.proficiency?.levels||[])};this.weapon.set(o),this.loadSavedPerks(o.name,o.category)}else this.error.set(a.message||"Erro ao carregar detalhes da arma");this.loading.set(!1)},error:a=>{console.error("Erro ao carregar detalhes da arma:",a),this.error.set("Erro ao carregar detalhes da arma. Tente novamente."),this.loading.set(!1)}})}generateWeaponLevels(){return[{level:1,perks:[{icons:["32_11345f84"],description:"Aumenta o dano m\xe1gico",title:"+1% de dano m\xe1gico"}]},{level:2,perks:[{icons:["32_11345f84"],description:"Aumenta o dano m\xe1gico",title:"+2% de dano m\xe1gico"},{icons:["32_9e923ff4"],description:"Aumenta chance de cr\xedtico",title:"+1% de chance de cr\xedtico"}]},{level:3,perks:[{icons:["32_11345f84"],description:"Aumenta o dano m\xe1gico",title:"+3% de dano m\xe1gico"},{icons:["32_9e923ff4"],description:"Aumenta chance de cr\xedtico",title:"+2% de chance de cr\xedtico"}]},{level:4,perks:[{icons:["32_11345f84"],description:"Aumenta o dano m\xe1gico",title:"+4% de dano m\xe1gico"},{icons:["32_9e923ff4"],description:"Aumenta chance de cr\xedtico",title:"+3% de chance de cr\xedtico"},{icons:["32_3d470603"],description:"Aumenta velocidade de cast",title:"+1% de velocidade de cast"}]},{level:5,perks:[{icons:["32_11345f84"],description:"Aumenta o dano m\xe1gico",title:"+5% de dano m\xe1gico"},{icons:["32_9e923ff4"],description:"Aumenta chance de cr\xedtico",title:"+4% de chance de cr\xedtico"},{icons:["32_3d470603"],description:"Aumenta velocidade de cast",title:"+2% de velocidade de cast"}]},{level:6,perks:[{icons:["32_11345f84"],description:"Aumenta o dano m\xe1gico",title:"+6% de dano m\xe1gico"},{icons:["32_9e923ff4"],description:"Aumenta chance de cr\xedtico",title:"+5% de chance de cr\xedtico"},{icons:["32_3d470603"],description:"Aumenta velocidade de cast",title:"+3% de velocidade de cast"},{icons:["32_079dabfd"],description:"Aumenta resist\xeancia m\xe1gica",title:"+1% de resist\xeancia m\xe1gica"}]},{level:7,perks:[{icons:["32_11345f84"],description:"Aumenta o dano m\xe1gico",title:"+7% de dano m\xe1gico"},{icons:["32_9e923ff4"],description:"Aumenta chance de cr\xedtico",title:"+6% de chance de cr\xedtico"},{icons:["32_3d470603"],description:"Aumenta velocidade de cast",title:"+4% de velocidade de cast"},{icons:["32_079dabfd"],description:"Aumenta resist\xeancia m\xe1gica",title:"+2% de resist\xeancia m\xe1gica"},{icons:["32_11345f84"],description:"Habilidade especial",title:"Habilidade especial: Sanguine Burst"}]}]}convertProficiencyLevels(n){return n&&0!==n.length?n.map((t,a)=>({level:t.level,perks:(t.perks||[]).map((o,r)=>({...o,enabled:0===a,selected:!1})),selectedPerk:void 0})):this.generateWeaponLevels()}onPerkSelect(n,t,a){if(!t.enabled)return;const o=this.weapon();if(!o)return;const r=o.levels.findIndex(s=>s.level===n.level);-1!==r&&(t.selected?(t.selected=!1,n.selectedPerk=void 0,this.disableSubsequentLevels(r)):(n.perks.forEach(s=>s.selected=!1),t.selected=!0,n.selectedPerk=t.description,this.enableNextLevel(r)),this.weapon.set({...o}))}disableSubsequentLevels(n){const t=this.weapon();if(t)for(let a=n+1;a<t.levels.length;a++){const o=t.levels[a];o.selectedPerk=void 0,o.perks.forEach(r=>{r.enabled=!1,r.selected=!1})}}enableNextLevel(n){const t=this.weapon();t&&n+1<t.levels.length&&t.levels[n+1].perks.forEach(o=>{o.enabled=!0})}hasSelectedPerks(){const n=this.weapon();return!!n&&n.levels.some(t=>t.perks.some(a=>a.selected))}salvarSelecionados(){var n=this;return(0,m.A)(function*(){const t=n.weapon();if(t){if(!n.hasSelectedPerks())return n.saveMessage.set("Selecione pelo menos uma profici\xeancia antes de salvar."),n.saveSuccess.set(!1),void n.clearSaveMessage();n.saving.set(!0),n.saveMessage.set(null);try{const a=t.levels.map(s=>({level:s.level,selectedPerks:s.perks.filter(c=>c.selected).map(c=>({icons:c.icons,description:c.description,title:c.title}))})).filter(s=>s.selectedPerks.length>0),o={weapon:{name:t.name,category:t.category,image_url:t.image_url},selectedPerks:a,createdAt:(new Date).toISOString(),version:"1.0"},r=yield n.proficiencyApiService.save(o);r.success?(n.saveMessage.set(r.message||"Profici\xeancia salva com sucesso!"),n.saveSuccess.set(!0),console.log("Build salvo na API:",r.data)):(n.saveMessage.set("Erro ao salvar: "+(r.message||"Erro desconhecido")),n.saveSuccess.set(!1))}catch(a){console.error("Erro ao salvar profici\xeancia:",a),n.saveMessage.set("Erro de conex\xe3o. Verifique sua internet e tente novamente."),n.saveSuccess.set(!1)}finally{n.saving.set(!1),n.clearSaveMessage()}}})()}loadSavedPerks(n,t){var a=this;return(0,m.A)(function*(){try{const o=yield a.proficiencyApiService.get(n,t);if(o.success&&o.data){const r=o.data.proficiency_data;r&&r.selectedPerks&&(a.applySavedPerks(r.selectedPerks),console.log("Perks carregadas:",r.selectedPerks))}}catch{console.log("Nenhuma profici\xeancia salva encontrada para esta arma")}})()}applySavedPerks(n){const t=this.weapon();t&&(t.levels.forEach(a=>{a.perks.forEach(o=>{o.selected=!1,o.enabled=1===a.level}),a.selectedPerk=void 0}),n.forEach(a=>{const o=t.levels.find(r=>r.level===a.level);if(o&&a.selectedPerks.length>0){o.perks.forEach(s=>s.enabled=!0),a.selectedPerks.forEach(s=>{const c=o.perks.find(f=>f.description===s.description&&f.title===s.title);c&&(c.selected=!0,o.selectedPerk=c.description)});const r=t.levels.findIndex(s=>s.level===a.level);-1!==r&&r+1<t.levels.length&&t.levels[r+1].perks.forEach(c=>c.enabled=!0)}}),this.weapon.set({...t}))}clearSaveMessage(){setTimeout(()=>{this.saveMessage.set(null),this.saveSuccess.set(!1)},4e3)}voltarParaLista(){const n=this.route.snapshot.queryParams,t=n.from,a=n.category;"saved-weapons"===t?this.router.navigate(["/weapons"],{queryParams:{showSaved:"true"}}):"category-list"===t&&a?this.router.navigate(["/weapons"],{queryParams:{category:a,showList:"true"}}):this.router.navigate(["/weapons"])}getWeaponImagePath(n){if(!n)return"\u2694\ufe0f";const t=n.replace(/^local:\/\//,"");return t.endsWith(".webp")||t.endsWith(".gif")?t.endsWith(".gif")?`assets/sprites/loot/${t}`:`assets/itens/${t}`:`assets/itens/${t}.webp`}onImageError(n){console.warn("Erro ao carregar imagem da arma:",n),n.target.style.display="none"}getCategoryDisplayName(n){return{swords:"Espadas",axes:"Machados",clavas:"Clavas",ranged:"Armas de Longo Alcance",rods:"Rods",wands:"Wands",fist:"Armas de Punho"}[n]||n}get hasProficiencies(){const n=this.weapon();return!!(n?.levels&&n.levels.length>0)}onIconError(n){console.warn("Erro ao carregar \xedcone da profici\xeancia:",n),n.target.style.display="none"}hasWeaponImage(n){if(!n)return!1;const t=this.getWeaponImageUrlDirect(n);return"string"==typeof t&&!t.startsWith("\u2694\ufe0f")}getWeaponImageUrlDirect(n){return n?this.getWeaponImagePath(n.name):"\u2694\ufe0f"}getWeaponImageUrl(n){return n?this.getWeaponImagePath(n.name):"\u2694\ufe0f"}onImageLoad(n,t){console.log("Imagem carregada com sucesso:",t?.name)}onWeaponClick(n){n&&this.router.navigate(["/weapons",n.category,n.name],{queryParams:{from:"saved-weapons",category:n.category}})}static{this.\u0275fac=function(t){return new(t||i)(e.rXU(p.nX),e.rXU(p.Ix),e.rXU(h.T),e.rXU(v.T))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-weapon-detail"]],decls:20,vars:5,consts:[["class","svg-loader-overlay",4,"ngIf"],[1,"parchment-background"],[1,"consulta-layout"],[1,"tavernatibiana-title"],[1,"parchment-card","medieval-disclaimer"],["class","voltar-button-card",3,"routerLink",4,"ngIf"],["class","voltar-button-card",3,"click",4,"ngIf"],[2,"display","flex","align-items","center","gap","0.3rem","margin-bottom","0.5rem","margin-top","3rem"],["src","assets/icons-svg/arsenalweapons.svg","alt","Arsenal",1,"svg-icon","intro-icon"],[1,"medieval-text"],[1,"medieval-intro"],["class","weapon-detail-section",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"svg-loader-overlay"],[1,"svg-loader"],["fill","#000000","height","200px","width","200px","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 452.022 452.022",0,"xml","space","preserve"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M440.761,380.351l-50.512-50.512l24.481-24.481c3.905-3.905,3.905-10.237,0-14.143c-3.905-3.904-10.237-3.904-14.143,0 l-9.494,9.494l-42.368-42.368c6.562-23.401,9.894-47.59,9.894-72l-0.001-153.69c0-4.777-3.379-8.887-8.065-9.811 c-113.629-22.402-228.859-22.402-342.488,0C3.379,23.764,0,27.875,0,32.652v153.69c0,55.105,16.721,108.08,48.356,153.2 c31.635,45.119,75.739,78.897,127.545,97.681c1.101,0.399,2.255,0.599,3.409,0.599c1.154,0,2.308-0.2,3.41-0.599 c40.392-14.651,76.722-38.923,105.694-70.5l18.334,18.334l-9.494,9.494c-3.905,3.905-3.905,10.237,0,14.143 c1.953,1.953,4.512,2.929,7.071,2.929c2.559,0,5.119-0.977,7.071-2.929l24.481-24.481l50.512,50.512 c7.262,7.261,16.917,11.26,27.187,11.26s19.924-3.999,27.186-11.26c7.262-7.262,11.261-16.917,11.261-27.186 C452.022,397.268,448.023,387.613,440.761,380.351z"],[1,"voltar-button-card",3,"routerLink"],[1,"voltar-button-card",3,"click"],[1,"weapon-detail-section"],[2,"margin","1.5rem 0"],[2,"display","flex","align-items","center","gap","0.3rem","margin-bottom","1rem"],["src","assets/icons-svg/refine.svg","alt","Arma",1,"svg-icon"],[1,"weapon-detail-card",3,"click"],[1,"weapon-detail-content"],[1,"weapon-info"],[1,"weapon-icon"],["class","weapon-image","loading","lazy",3,"src","alt","error","load",4,"ngIf"],["class","weapon-emoji",4,"ngIf"],[1,"weapon-details"],[1,"weapon-name"],[1,"weapon-category"],[1,"weapon-date"],[1,"weapon-levels"],["loading","lazy",1,"weapon-image",3,"error","load","src","alt"],[1,"weapon-emoji"],[1,"error-message"],[1,"parchment-card","error-card"],[1,"retry-btn",3,"click"]],template:function(t,a){1&t&&(e.DNE(0,b,7,0,"div",0),e.j41(1,"div",1)(2,"div",2)(3,"h1",3),e.EFF(4,"Cap\xedtulo das Armas Domadas"),e.k0s(),e.j41(5,"div",4),e.DNE(6,P,2,1,"button",5)(7,w,2,0,"button",6),e.j41(8,"div",7),e.nrm(9,"img",8),e.j41(10,"h2",9),e.EFF(11,"Onde o a\xe7o encontra o bra\xe7o... e o treino evita trag\xe9dias."),e.k0s()(),e.j41(12,"p",10),e.EFF(13," Ah, as armas! Fi\xe9is companheiras de jornada\u2026 ou perigos ambulantes nas m\xe3os erradas. Neste cap\xedtulo do grim\xf3rio, registramos quais l\xe2minas, martelos, adagas e afins tu j\xe1 aprendeu a manejar sem virar motivo de piada na taverna. "),e.k0s(),e.j41(14,"p",10),e.EFF(15," Aqui tu confere tua profici\xeancia com cada arma, acompanha quais j\xe1 est\xe3o sob teu dom\xednio e quais ainda fazem teu bra\xe7o doer s\xf3 de olhar. Com um pouco de suor e umas boas porradas (de prefer\xeancia nos inimigos), vais ver tua maestria crescer p\xe1gina por p\xe1gina. "),e.k0s(),e.j41(16,"p",10),e.EFF(17," Porque, convenhamos: at\xe9 um ogro acerta com uma clava... mas s\xf3 um verdadeiro her\xf3i sabe quando, como e com estilo. Ent\xe3o bora, guerreiro! Domina teu arsenal e mostra ao mundo que tu n\xe3o \xe9 s\xf3 mais um que balan\xe7a a espada sem saber pra onde vai! "),e.k0s(),e.DNE(18,C,21,6,"div",11)(19,y,8,1,"div",12),e.k0s()()()),2&t&&(e.Y8G("ngIf",a.loading()),e.R7$(6),e.Y8G("ngIf",!a.weapon()),e.R7$(),e.Y8G("ngIf",a.weapon()),e.R7$(11),e.Y8G("ngIf",a.weapon()),e.R7$(),e.Y8G("ngIf",a.error()))},dependencies:[u.MD,u.bT,_.YN,p.iI,p.Wk],styles:['@charset "UTF-8";.svg-loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;justify-content:center;align-items:center;z-index:9999}.svg-loader[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.parchment-background[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5e1b8,#e8d9a5,#d4c08a);padding:1rem;font-family:MedievalSharp,serif}.consulta-layout[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:1rem}.parchment-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fdf8e4,#e8d9a5);border:3px solid #a07947;border-radius:15px;padding:2rem;margin-bottom:1.5rem;box-shadow:0 8px 32px #a0794726;position:relative}.voltar-button-card[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;background:#f5e1b8;border:2px solid #a88d5a;border-radius:8px;padding:.7rem 1.2rem;font-family:MedievalSharp,serif;color:#3e2f1c;cursor:pointer;font-size:1rem;transition:background .2s,transform .2s;text-decoration:none;display:inline-block;margin-bottom:1rem}.voltar-button-card[_ngcontent-%COMP%]:hover{background:#e8d9a5;transform:translateY(-2px)}.svg-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.3))}.intro-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.weapon-detail-section[_ngcontent-%COMP%]{margin-top:1rem}.weapon-detail-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fdf8e4,#e8d9a5);border:2px solid #a07947;border-radius:12px;padding:1.8rem 1.2rem;margin-bottom:1rem;cursor:pointer;transition:box-shadow .2s,transform .2s;display:flex;align-items:center;justify-content:center}.weapon-detail-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #a079472e;transform:translateY(-4px)}.weapon-detail-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:1rem;width:100%}.weapon-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:1rem}.weapon-icon[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;display:flex;align-items:center;justify-content:center;border-radius:6px;overflow:hidden;background:transparent;margin-bottom:.8rem}.weapon-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.3));border-radius:6px}.weapon-emoji[_ngcontent-%COMP%]{font-size:2.5rem;display:flex;align-items:center;justify-content:center;width:100%;height:100%;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.3))}.weapon-details[_ngcontent-%COMP%]{width:100%}.weapon-name[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#3e2f1c;font-size:1.4rem;font-family:MedievalSharp,serif;font-weight:700}.weapon-category[_ngcontent-%COMP%]{margin:0 0 .3rem;color:#7b5e3b;font-size:1rem;font-family:MedievalSharp,serif}.weapon-date[_ngcontent-%COMP%]{margin:0 0 .3rem;color:#7b5e3b;font-size:.9rem;font-family:Georgia,serif}.weapon-levels[_ngcontent-%COMP%]{margin:0;color:#7b5e3b;font-size:.9rem;font-family:Georgia,serif}.proficiencies-section[_ngcontent-%COMP%]{margin-top:1rem}.proficiencies-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:1rem}.button-medieval[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#f5e1b8;border:2px solid #a88d5a;border-radius:8px;padding:.7rem 1.2rem;font-family:MedievalSharp,serif;color:#3e2f1c;cursor:pointer;font-size:1rem;transition:background .2s,transform .2s}.button-medieval[_ngcontent-%COMP%]:hover:not(:disabled){background:#e8d9a5;transform:translateY(-2px)}.button-medieval[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-feedback[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;margin-bottom:1rem;font-family:MedievalSharp,serif;text-align:center}.save-feedback.success[_ngcontent-%COMP%]{background:#d4edda;border:2px solid #c3e6cb;color:#155724}.save-feedback.error[_ngcontent-%COMP%]{background:#f8d7da;border:2px solid #f5c6cb;color:#721c24}.weapon_proficiency_table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem;background:#fdf8e4;border-radius:8px;overflow:hidden;box-shadow:0 4px 16px #a079471a}.proficiency-level-header[_ngcontent-%COMP%]{background:#a07947;color:#fdf8e4;padding:1rem;text-align:center;font-family:MedievalSharp,serif;font-weight:700;border:1px solid #8b6b3a}.proficiency-level-cell[_ngcontent-%COMP%]{padding:1rem;border:1px solid #d4c08a;vertical-align:top}.weapon_proficiency_block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.perk-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;padding:.8rem;border-radius:6px;transition:background .2s}.perk-block[_ngcontent-%COMP%]:hover:not(.disabled-perk){background:#a079471a}.perk-block.selected-perk[_ngcontent-%COMP%]{background:#a0794733;border:2px solid #a07947}.perk-block.disabled-perk[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.weapon_proficiency_icon[_ngcontent-%COMP%]{width:3rem;height:3rem;display:flex;align-items:center;justify-content:center;border-radius:6px;overflow:hidden;background:transparent;flex-shrink:0}.icon-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.proficiency-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.3))}.two-icons-layout[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.icon-first[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:60%;height:60%}.icon-second[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:60%;height:60%}.three-icons-layout[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.background-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%}.final-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:60%;height:60%}.corner-icon-small[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:40%;height:40%}.single-icon-layout[_ngcontent-%COMP%], .single-icon[_ngcontent-%COMP%]{width:100%;height:100%}.proficiency-icon-placeholder[_ngcontent-%COMP%]{font-size:2rem;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.weapon_proficiency_text[_ngcontent-%COMP%]{flex:1;padding:.8rem;border-radius:6px;background:#fdf8e4;border:1px solid #d4c08a;font-family:Georgia,serif;font-size:.9rem;line-height:1.4;color:#3e2f1c;cursor:pointer;transition:background .2s}.weapon_proficiency_text[_ngcontent-%COMP%]:hover:not(.disabled-perk){background:#e8d9a5}.weapon_proficiency_text.selected-perk[_ngcontent-%COMP%]{background:#e8d9a5;border-color:#a07947;font-weight:700}.weapon_proficiency_text.disabled-perk[_ngcontent-%COMP%]{background:#f0f0f0;color:#999;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{margin-top:1rem}.error-card[_ngcontent-%COMP%]{background:#f8d7da;border-color:#f5c6cb;color:#721c24}.retry-btn[_ngcontent-%COMP%]{background:#dc3545;border:2px solid #c82333;border-radius:8px;padding:.7rem 1.2rem;font-family:MedievalSharp,serif;color:#fff;cursor:pointer;font-size:1rem;transition:background .2s}.retry-btn[_ngcontent-%COMP%]:hover{background:#c82333}@media (max-width: 900px){.consulta-layout[_ngcontent-%COMP%]{padding:.5rem}.parchment-card[_ngcontent-%COMP%]{padding:1.5rem}.weapon-info[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.proficiencies-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.weapon_proficiency_table[_ngcontent-%COMP%]{font-size:.9rem}.proficiency-level-header[_ngcontent-%COMP%], .proficiency-level-cell[_ngcontent-%COMP%]{padding:.8rem}}@media (max-width: 600px){.parchment-background[_ngcontent-%COMP%]{padding:.5rem}.consulta-layout[_ngcontent-%COMP%]{padding:.3rem}.parchment-card[_ngcontent-%COMP%]{padding:1rem}.voltar-button-card[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;margin-bottom:1rem;width:100%;text-align:center}.weapon-icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.weapon-name[_ngcontent-%COMP%]{font-size:1.2rem}.weapon_proficiency_table[_ngcontent-%COMP%]{font-size:.8rem}.proficiency-level-header[_ngcontent-%COMP%], .proficiency-level-cell[_ngcontent-%COMP%]{padding:.6rem}.perk-block[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.5rem}.weapon_proficiency_icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}}@media (max-width: 480px){.tavernatibiana-title[_ngcontent-%COMP%]{font-size:1.8rem}.parchment-card[_ngcontent-%COMP%]{padding:.8rem}.voltar-button-card[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem}.weapon-name[_ngcontent-%COMP%]{font-size:1.1rem}.weapon_proficiency_table[_ngcontent-%COMP%]{font-size:.75rem}.proficiency-level-header[_ngcontent-%COMP%], .proficiency-level-cell[_ngcontent-%COMP%]{padding:.5rem}.weapon_proficiency_text[_ngcontent-%COMP%]{font-size:.8rem;padding:.6rem}}']})}}return i})()}}]);