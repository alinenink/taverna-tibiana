{"version":3,"file":"src_app_components_login_login_component_ts.js","mappings":"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","sources":["./src/app/components/login/login.component.ts","./src/app/components/login/login.component.scss"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Router, RouterModule } from '@angular/router';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, RouterModule],\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent {\r\n  email = '';\r\n  password = '';\r\n  carregando = false;\r\n  erro = '';\r\n\r\n  constructor(private router: Router, private authService: AuthService) {}\r\n\r\n  async login() {\r\n    this.carregando = true;\r\n    this.erro = '';\r\n\r\n    const credentials = {\r\n      email: this.email,\r\n      password: this.password,\r\n    };\r\n\r\n    try {\r\n      const authObservable = await this.authService.authenticate(credentials);\r\n      authObservable.subscribe({\r\n        next: (response) => {\r\n          if (response.success && response.token) {\r\n            this.authService.setAuthData(\r\n              response.token,\r\n              response.user,\r\n              response.user_id\r\n            );\r\n            this.carregando = false;\r\n            this.router.navigate(['/home']);\r\n          } else {\r\n            this.erro =\r\n              response.message ||\r\n              'Erro na autenticação. Verifique suas credenciais.';\r\n            this.carregando = false;\r\n          }\r\n        },\r\n        error: (error) => {\r\n          this.carregando = false;\r\n          console.error('Erro na autenticação:', error);\r\n          if (error.status === 401) {\r\n            this.erro = '<img src=\"assets/beer-mug.svg\" alt=\"Criatura\" class=\"svg-icon\" /> Opa, nobre aventureiro! Tuas credenciais não foram reconhecidas pelo taberneiro. Confere teu email mágico e tua palavra-passe, e tenta novamente!';\r\n          } else {\r\n            this.erro = 'Erro ao conectar com o servidor. Tente novamente.';\r\n          }\r\n        },\r\n      });\r\n    } catch (error) {\r\n      this.carregando = false;\r\n      console.error('Erro ao processar autenticação:', error);\r\n      this.erro = 'Erro interno. Tente novamente.';\r\n    }\r\n  }\r\n}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.consulta-layout {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.parchment-card {\n  max-width: 350px;\n  margin: 0 auto;\n}\n\ninput.input-medieval {\n  flex: 1;\n  margin-bottom: 1rem;\n}\n\n.button-medieval {\n  width: 100%;\n  margin-top: 1rem;\n}\n\n.login-error {\n  color: #992e2e;\n  font-weight: bold;\n  margin-bottom: 1rem;\n  text-align: center;\n  font-family: \"MedievalSharp\", serif;\n}\n\n.input-icon-group {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n.login-links {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1.5rem;\n  margin-top: 1.5rem;\n  font-family: \"MedievalSharp\", serif;\n}\n\n.medieval-link {\n  color: #7b5e3b;\n  text-decoration: underline;\n  cursor: pointer;\n  font-weight: bold;\n  transition: color 0.2s;\n}\n\n.medieval-link:hover {\n  color: #a88d5a;\n}\n\n.medieval-link-sep {\n  color: #a67c52;\n  font-weight: bold;\n  font-size: 1.2em;\n  margin: 0 0.2em;\n  -webkit-user-select: none;\n          user-select: none;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/components/login/login.component.scss\",\"webpack://./../../Projetos%20Pessoais/charlovinho/src/app/components/login/login.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;EACA,aAAA;EACA,sBAAA;EACA,mBAAA;EACA,uBAAA;ACCF;;ADEA;EACE,gBAAA;EACA,cAAA;ACCF;;ADEA;EACE,OAAA;EACA,mBAAA;ACCF;;ADEA;EACE,WAAA;EACA,gBAAA;ACCF;;ADEA;EACE,cAAA;EACA,iBAAA;EACA,mBAAA;EACA,kBAAA;EACA,mCAAA;ACCF;;ADEA;EACE,aAAA;EACA,mBAAA;EACA,WAAA;EACA,mBAAA;ACCF;;ADEA;EACE,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,WAAA;EACA,kBAAA;EACA,mCAAA;ACCF;;ADEA;EACE,cAAA;EACA,0BAAA;EACA,eAAA;EACA,iBAAA;EACA,sBAAA;ACCF;;ADEA;EACE,cAAA;ACCF;;ADEA;EACE,cAAA;EACA,iBAAA;EACA,gBAAA;EACA,eAAA;EACA,yBAAA;UAAA,iBAAA;ACCF\",\"sourcesContent\":[\".consulta-layout {\\r\\n  min-height: 100vh;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.parchment-card {\\r\\n  max-width: 350px;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\ninput.input-medieval {\\r\\n  flex: 1;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.button-medieval {\\r\\n  width: 100%;\\r\\n  margin-top: 1rem;\\r\\n}\\r\\n\\r\\n.login-error {\\r\\n  color: #992e2e;\\r\\n  font-weight: bold;\\r\\n  margin-bottom: 1rem;\\r\\n  text-align: center;\\r\\n  font-family: 'MedievalSharp', serif;\\r\\n}\\r\\n\\r\\n.input-icon-group {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 0.5rem;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.login-links {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  gap: 1.5rem;\\r\\n  margin-top: 1.5rem;\\r\\n  font-family: 'MedievalSharp', serif;\\r\\n}\\r\\n\\r\\n.medieval-link {\\r\\n  color: #7b5e3b;\\r\\n  text-decoration: underline;\\r\\n  cursor: pointer;\\r\\n  font-weight: bold;\\r\\n  transition: color 0.2s;\\r\\n}\\r\\n\\r\\n.medieval-link:hover {\\r\\n  color: #a88d5a;\\r\\n}\\r\\n\\r\\n.medieval-link-sep {\\r\\n  color: #a67c52;\\r\\n  font-weight: bold;\\r\\n  font-size: 1.2em;\\r\\n  margin: 0 0.2em;\\r\\n  user-select: none;\\r\\n} \",\".consulta-layout {\\n  min-height: 100vh;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.parchment-card {\\n  max-width: 350px;\\n  margin: 0 auto;\\n}\\n\\ninput.input-medieval {\\n  flex: 1;\\n  margin-bottom: 1rem;\\n}\\n\\n.button-medieval {\\n  width: 100%;\\n  margin-top: 1rem;\\n}\\n\\n.login-error {\\n  color: #992e2e;\\n  font-weight: bold;\\n  margin-bottom: 1rem;\\n  text-align: center;\\n  font-family: \\\"MedievalSharp\\\", serif;\\n}\\n\\n.input-icon-group {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  margin-bottom: 1rem;\\n}\\n\\n.login-links {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  gap: 1.5rem;\\n  margin-top: 1.5rem;\\n  font-family: \\\"MedievalSharp\\\", serif;\\n}\\n\\n.medieval-link {\\n  color: #7b5e3b;\\n  text-decoration: underline;\\n  cursor: pointer;\\n  font-weight: bold;\\n  transition: color 0.2s;\\n}\\n\\n.medieval-link:hover {\\n  color: #a88d5a;\\n}\\n\\n.medieval-link-sep {\\n  color: #a67c52;\\n  font-weight: bold;\\n  font-size: 1.2em;\\n  margin: 0 0.2em;\\n  user-select: none;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["Component","CommonModule","FormsModule","Router","RouterModule","AuthService","LoginComponent","constructor","router","authService","email","password","carregando","erro","login","_this","_asyncToGenerator","credentials","authObservable","authenticate","subscribe","next","response","success","token","setAuthData","user","user_id","navigate","message","error","console","status","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}