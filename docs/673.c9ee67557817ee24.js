"use strict";(self.webpackChunktaverna_tibiana=self.webpackChunktaverna_tibiana||[]).push([[673],{9673:(E,c,i)=>{i.r(c),i.d(c,{ForgotPasswordComponent:()=>_});var m=i(177),a=i(4341),g=i(4796),e=i(4020),u=i(6207);function p(o,s){if(1&o&&(e.j41(0,"div",16),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.JRh(n.erro)}}function v(o,s){if(1&o&&(e.j41(0,"div",17),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.JRh(n.sucesso)}}function f(o,s){if(1&o){const n=e.RV6();e.j41(0,"div",13)(1,"button",18),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.goToHome())}),e.EFF(2,"Clique aqui para voltar \xe0 Taverna"),e.k0s()()}}function h(o,s){1&o&&(e.j41(0,"div",19)(1,"div",20),e.qSk(),e.j41(2,"svg",21)(3,"g",22),e.nrm(4,"path",23),e.k0s()()()())}let _=(()=>{class o{constructor(n,r){this.router=n,this.authService=r,this.email="",this.carregando=!1,this.sucesso="",this.erro="",this.emailEnviado=!1}recuperar(){this.carregando=!0,this.erro="",this.sucesso="",this.emailEnviado=!1,this.authService.resetPassword(this.email).subscribe({next:n=>{n.success?(this.sucesso="\u{1f37a} Um pergaminho m\xe1gico foi enviado ao teu email! Siga as instru\xe7\xf5es para restaurar teu juramento.",this.emailEnviado=!0):(this.erro="Email n\xe3o encontrado"===n.message?"\u26a0\ufe0f Nenhum aventureiro foi encontrado com esse email m\xe1gico. Confere o endere\xe7o e tenta novamente!":"N\xe3o foi poss\xedvel enviar o pergaminho de recupera\xe7\xe3o. Tente novamente mais tarde.",this.carregando=!1),this.carregando=!1},error:n=>{this.erro=400===n.status&&n.error?.message?"\u26a0\ufe0f O taberneiro n\xe3o conseguiu enviar o pergaminho: "+n.error.message:"Erro inesperado na taverna. Tente novamente em alguns minutos.",this.carregando=!1}})}goToHome(){this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(u.Ix),e.rXU(g.u))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-forgot-password"]],decls:31,vars:6,consts:[[1,"parchment-background"],[1,"consulta-layout"],[1,"tavernatibiana-title"],[1,"parchment-card",3,"ngSubmit"],[1,"medieval-disclaimer"],["class","login-error medieval-msg",4,"ngIf"],["class","register-success medieval-msg",4,"ngIf"],["class","login-links",4,"ngIf"],[1,"input-icon-group","forgot-group"],[1,"input-icon"],["src","assets/wizard.svg","alt","Email",1,"svg-icon"],["id","email","type","email","name","email","placeholder","Email m\xe1gico","required","",1,"input-medieval","forgot-input",3,"ngModelChange","ngModel"],["type","submit",1,"button-medieval",3,"disabled"],[1,"login-links"],[1,"medieval-link",3,"click"],["class","svg-loader-overlay",4,"ngIf"],[1,"login-error","medieval-msg"],[1,"register-success","medieval-msg"],[1,"medieval-link","medieval-msg-btn",3,"click"],[1,"svg-loader-overlay"],[1,"svg-loader"],["fill","#000000","height","80px","width","80px","viewBox","0 0 452.022 452.022"],["id","SVGRepo_iconCarrier"],["d","M440.761,380.351l-50.512-50.512l24.481-24.481c3.905-3.905,3.905-10.237,0-14.143c-3.905-3.904-10.237-3.904-14.143,0 l-9.494,9.494l-42.368-42.368c6.562-23.401,9.894-47.59,9.894-72l-0.001-153.69c0-4.777-3.379-8.887-8.065-9.811 c-113.629-22.402-228.859-22.402-342.488,0C3.379,23.764,0,27.875,0,32.652v153.69c0,55.105,16.721,108.08,48.356,153.2 c31.635,45.119,75.739,78.897,127.545,97.681c1.101,0.399,2.255,0.599,3.409,0.599c1.154,0,2.308-0.2,3.41-0.599 c40.392-14.651,76.722-38.923,105.694-70.5l18.334,18.334l-9.494,9.494c-3.905,3.905,3.905,10.237,0,14.143 c1.953,1.953,4.512,2.929,7.071,2.929c2.559,0,5.119-0.977,7.071-2.929l24.481-24.481l50.512,50.512 c7.262,7.261,16.917,11.26,27.187,11.26s19.924-3.999,27.186-11.26c7.262-7.262,11.261-16.917,11.261-27.186 C452.022,397.268,448.023,387.613,440.761,380.351z"]],template:function(r,t){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Recuperar Juramento"),e.k0s(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return t.recuperar()}),e.j41(5,"div",4)(6,"p"),e.EFF(7,"\u{1f9d9}\u200d\u2642\ufe0f "),e.j41(8,"strong"),e.EFF(9,"Perdeste tua palavra m\xe1gica, aventureiro?"),e.k0s()(),e.j41(10,"p"),e.EFF(11," N\xe3o temas! Informe abaixo o teu "),e.j41(12,"strong"),e.EFF(13,"email m\xe1gico"),e.k0s(),e.EFF(14," e enviaremos um pergaminho encantado para restaurar teu acesso \xe0 taverna."),e.nrm(15,"br"),e.j41(16,"em"),e.EFF(17,"Verifique tamb\xe9m a pasta de spam, pois \xe0s vezes os corvos mensageiros se perdem!"),e.k0s()()(),e.DNE(18,p,2,1,"div",5)(19,v,2,1,"div",6)(20,f,3,0,"div",7),e.j41(21,"div",8)(22,"span",9),e.nrm(23,"img",10),e.k0s(),e.j41(24,"input",11),e.mxI("ngModelChange",function(l){return e.DH7(t.email,l)||(t.email=l),l}),e.k0s()(),e.j41(25,"button",12),e.EFF(26," Recuperar Juramento "),e.k0s(),e.j41(27,"div",13)(28,"a",14),e.bIt("click",function(){return t.goToHome()}),e.EFF(29,"J\xe1 tens uma conta? Voltar \xe0 Taverna"),e.k0s()(),e.DNE(30,h,5,0,"div",15),e.k0s()()()),2&r&&(e.R7$(18),e.Y8G("ngIf",t.erro),e.R7$(),e.Y8G("ngIf",t.sucesso),e.R7$(),e.Y8G("ngIf",t.emailEnviado),e.R7$(4),e.R50("ngModel",t.email),e.R7$(),e.Y8G("disabled",t.carregando),e.R7$(5),e.Y8G("ngIf",t.carregando))},dependencies:[m.MD,m.bT,a.YN,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV],styles:[".consulta-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.parchment-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.button-medieval[_ngcontent-%COMP%]{width:100%;max-width:320px;margin:.7rem auto 0;display:block}.input-icon-group.forgot-group[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;max-width:320px;justify-content:flex-start;border:none;background:none;border-radius:0;margin-bottom:1.2rem;margin-left:auto;margin-right:auto}.input-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:44px;padding-left:0;margin-right:.5em;background:none}.forgot-input[_ngcontent-%COMP%]{height:44px;line-height:44px;width:100%;max-width:320px;border:1.5px solid #a67c52;border-radius:6px;background:#fdf8e4;font-size:1.08rem;font-family:MedievalSharp,serif;padding:0 1em;box-sizing:border-box;text-align:center}.login-links[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1.5rem;margin-bottom:1em}.login-links[_ngcontent-%COMP%]   .medieval-link[_ngcontent-%COMP%]{text-decoration:underline}.medieval-msg-btn[_ngcontent-%COMP%]{display:inline;margin:1.2em auto 0;padding:0;font-size:1rem;font-family:MedievalSharp,serif;background:none;border:none;color:#7b5e3b;cursor:pointer;text-decoration:underline;transition:color .2s;box-shadow:none;border-radius:0}"]})}}return o})()}}]);