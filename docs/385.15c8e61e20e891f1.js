"use strict";(self.webpackChunktaverna_tibiana=self.webpackChunktaverna_tibiana||[]).push([[385],{3385:(L,h,c)=>{c.r(h),c.d(h,{WeaponsComponent:()=>z});var u=c(467),e=c(4020),_=c(177),l=c(4341),p=c(5085),f=c(4231),v=c(6706),C=c(7503);function w(o,r){1&o&&(e.j41(0,"div",16)(1,"div",17),e.qSk(),e.j41(2,"svg",18),e.nrm(3,"g",19)(4,"g",20),e.j41(5,"g",21),e.nrm(6,"path",22),e.k0s()()()())}function P(o,r){1&o&&(e.j41(0,"button",23),e.EFF(1," Voltar "),e.k0s()),2&o&&e.Y8G("routerLink","/grimorio")}function M(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.onBackToCategories())}),e.EFF(1," Voltar para categorias "),e.k0s()}}function O(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.hideSavedWeaponsSection())}),e.EFF(1," Voltar para categorias "),e.k0s()}}function b(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.onCategoryChange(a.id))}),e.nrm(1,"img",32),e.j41(2,"span"),e.EFF(3),e.k0s()()}if(2&o){const t=r.$implicit,n=e.XpG(2);e.R7$(),e.Y8G("src",n.getCategoryIcon(t.id),e.B4B)("alt",t.name),e.R7$(2),e.JRh(t.name)}}function y(o,r){if(1&o&&(e.j41(0,"div",25),e.nrm(1,"hr",26),e.j41(2,"div",27),e.nrm(3,"img",28),e.j41(4,"strong",9),e.EFF(5,"Escolha sua Arma"),e.k0s()(),e.j41(6,"div",29),e.DNE(7,b,4,3,"button",30),e.k0s()()),2&o){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.categories())}}function x(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",33),e.nrm(1,"hr",26),e.j41(2,"div",27),e.nrm(3,"img",34),e.j41(4,"strong",9),e.EFF(5,"Maestrias j\xe1 conquistadas, afiadas e prontas pra briga."),e.k0s()(),e.j41(6,"p",10),e.EFF(7," Aqui est\xe3o registradas as armas que tu j\xe1 dominaste! Cada uma com hist\xf3ria, suor e talvez um ou dois dedos perdidos no processo. Seja uma espada encantada, uma clava enferrujada ou aquele machado que quase caiu no pr\xf3prio p\xe9 \u2014 se est\xe1 aqui, \xe9 porque tu j\xe1 provou que sabe us\xe1-la (ou quase). "),e.k0s(),e.j41(8,"div",35)(9,"button",36),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.showSavedWeaponsSection())}),e.EFF(10," Espiar o Registro de Batalhas "),e.k0s()()()}}function W(o,r){1&o&&(e.j41(0,"div",41)(1,"div",42),e.nrm(2,"img",43),e.j41(3,"p"),e.EFF(4,"Carregando tuas armas domadas..."),e.k0s()()())}function k(o,r){1&o&&(e.j41(0,"div",44)(1,"div",45),e.nrm(2,"img",46),e.j41(3,"h3"),e.EFF(4,"Nenhuma Arma Domada"),e.k0s(),e.j41(5,"p"),e.EFF(6," Tu ainda n\xe3o domaste nenhuma arma, aventureiro! Explora o arsenal e registra tuas conquistas para que a taverna lembre de tua maestria! "),e.k0s()()())}function E(o,r){1&o&&(e.j41(0,"span",64),e.EFF(1,"\u2694\ufe0f"),e.k0s())}function I(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",49),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.onSavedWeaponClick(a))}),e.j41(1,"div",50)(2,"div",51)(3,"div",52)(4,"img",53),e.bIt("error",function(a){const s=e.eBV(t).$implicit,i=e.XpG(3);return e.Njj(i.onSavedWeaponImageError(a,s.weapon_name))}),e.k0s(),e.DNE(5,E,2,0,"span",54),e.k0s(),e.j41(6,"div",55)(7,"h3",56),e.EFF(8),e.k0s(),e.j41(9,"p",57),e.EFF(10),e.k0s()()(),e.j41(11,"div",58)(12,"div",59)(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"div",60),e.nrm(16,"img",61),e.j41(17,"span"),e.EFF(18),e.k0s()()(),e.j41(19,"div",62)(20,"span",63),e.EFF(21,"Ver Maestria"),e.k0s()()()()}if(2&o){const t=r.$implicit,n=e.XpG(3);e.R7$(4),e.Y8G("src",n.getSavedWeaponImageUrl(t.weapon_name),e.B4B)("alt",t.weapon_name),e.R7$(),e.Y8G("ngIf",!n.hasSavedWeaponImage(t.weapon_name)),e.R7$(3),e.JRh(t.weapon_name),e.R7$(2),e.SpI(" ",n.weaponsService.getCategoryDisplayName(t.weapon_category)," "),e.R7$(4),e.SpI("Data: ",n.formatSavedDate(t.created_at),""),e.R7$(4),e.SpI("",(null==t.proficiency_data||null==t.proficiency_data.selectedPerks?null:t.proficiency_data.selectedPerks.length)||0," n\xedveis configurados")}}function j(o,r){if(1&o&&(e.j41(0,"div",47),e.DNE(1,I,22,7,"div",48),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.savedWeapons())}}function F(o,r){if(1&o&&(e.j41(0,"div",37),e.nrm(1,"hr",26),e.j41(2,"div",27),e.nrm(3,"img",34),e.j41(4,"strong",9),e.EFF(5),e.k0s()(),e.DNE(6,W,5,0,"div",38)(7,k,7,0,"div",39)(8,j,2,1,"div",40),e.k0s()),2&o){const t=e.XpG();e.R7$(5),e.SpI("Tuas Armas Domadas (",t.savedWeapons().length,")"),e.R7$(),e.Y8G("ngIf",t.loadingSavedWeapons()),e.R7$(),e.Y8G("ngIf",!t.loadingSavedWeapons()&&0===t.savedWeapons().length),e.R7$(),e.Y8G("ngIf",!t.loadingSavedWeapons()&&t.savedWeapons().length>0)}}function T(o,r){1&o&&(e.j41(0,"div",72)(1,"p"),e.EFF(2,"Nenhuma arma encontrada com os filtros aplicados."),e.k0s()())}function S(o,r){if(1&o){const t=e.RV6();e.j41(0,"img",76),e.bIt("error",function(a){e.eBV(t);const s=e.XpG().$implicit,i=e.XpG(2);return e.Njj(i.onImageError(a,s))})("load",function(a){e.eBV(t);const s=e.XpG().$implicit,i=e.XpG(2);return e.Njj(i.onImageLoad(a,s))}),e.k0s()}if(2&o){const t=e.XpG().$implicit,n=e.XpG(2);e.Y8G("src",n.getWeaponImageUrlDirect(t),e.B4B)("alt",t.name)}}function R(o,r){if(1&o&&(e.j41(0,"span",64),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(),e.SpI(" ",n.getWeaponImageUrl(t)," ")}}function D(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",73),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.onWeaponClick(a))}),e.j41(1,"div",74)(2,"div",52),e.DNE(3,S,1,2,"img",75)(4,R,2,1,"span",54),e.k0s(),e.j41(5,"h3",56),e.EFF(6),e.k0s()()()}if(2&o){const t=r.$implicit,n=e.XpG(2);e.R7$(3),e.Y8G("ngIf",n.hasWeaponImage(t)),e.R7$(),e.Y8G("ngIf",!n.hasWeaponImage(t)),e.R7$(2),e.JRh(t.name)}}function $(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",65),e.nrm(1,"hr",26),e.j41(2,"div",27),e.nrm(3,"img",66),e.j41(4,"strong",9),e.EFF(5),e.k0s()(),e.j41(6,"div",67)(7,"input",68),e.mxI("ngModelChange",function(a){e.eBV(t);const s=e.XpG();return e.DH7(s.searchTerm,a)||(s.searchTerm=a),e.Njj(a)}),e.bIt("input",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.onSearch())}),e.k0s()(),e.DNE(8,T,3,0,"div",69),e.j41(9,"div",70),e.DNE(10,D,7,3,"div",71),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("src",t.getCategoryIcon(t.currentCategory()),e.B4B)("alt",t.weaponsService.getCategoryDisplayName(t.currentCategory())),e.R7$(2),e.Lme("",t.weaponsService.getCategoryDisplayName(t.currentCategory())," (",t.weapons().length,")"),e.R7$(2),e.R50("ngModel",t.searchTerm),e.R7$(),e.Y8G("ngIf",0===t.weapons().length),e.R7$(2),e.Y8G("ngForOf",t.weapons())("ngForTrackBy",t.trackByWeaponName)}}function G(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",77)(1,"div",78)(2,"h2"),e.EFF(3,"Erro no Arsenal"),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s(),e.j41(6,"button",79),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.loadCategories())}),e.EFF(7," Tentar Novamente "),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(5),e.JRh(t.error())}}let z=(()=>{class o{constructor(t,n,a,s,i){this.weaponsService=t,this.router=n,this.route=a,this.proficiencyApiService=s,this.scrollService=i,this.categories=(0,e.vPA)([]),this.weapons=(0,e.vPA)([]),this.stats=(0,e.vPA)(null),this.currentCategory=(0,e.vPA)("swords"),this.loading=(0,e.vPA)(!1),this.error=(0,e.vPA)(null),this.showCategoryList=(0,e.vPA)(!1),this.savedWeapons=(0,e.vPA)([]),this.showSavedWeapons=(0,e.vPA)(!1),this.loadingSavedWeapons=(0,e.vPA)(!1),this.searchTerm="",this.selectedVocation="",this.selectedTier="",this.minLevel=0,this.originalWeapons=[],this.savedWeaponImageCache=new Map}ngOnInit(){this.scrollService.scrollToTop(),this.loading.set(!0),this.loadCategories(),this.route.queryParams.subscribe(t=>{"true"===t.showSaved?(this.showSavedWeaponsSection(),this.router.navigate(["/weapons"],{replaceUrl:!0})):"true"===t.showList&&t.category&&(this.onCategoryChange(t.category),this.router.navigate(["/weapons"],{replaceUrl:!0}))})}loadCategories(){this.loading.set(!0),this.error.set(null),this.weaponsService.getCategories().subscribe({next:t=>{if(t&&t.length>0){const n=t.map(i=>i.id),a=[];n.includes("rods")||a.push({id:"rods",name:"Rods",weapons_endpoint:"/api/weapons?action=list&category=rods",detail_endpoint:"/api/weapons?action=weapon&category=rods"}),n.includes("wands")||a.push({id:"wands",name:"Wands",weapons_endpoint:"/api/weapons?action=list&category=wands",detail_endpoint:"/api/weapons?action=weapon&category=wands"});const s=[...t,...a];this.categories.set(s)}else this.categories.set(this.getDefaultCategories());this.loading.set(!1)},error:t=>{console.error("Erro ao carregar categorias:",t),this.categories.set(this.getDefaultCategories()),this.error.set(null),this.loading.set(!1)}})}loadWeapons(){this.loading.set(!0),this.weaponsService.getWeaponsByCategory(this.currentCategory()).subscribe({next:t=>{if(t.success&&t.data){const n=t.data;this.originalWeapons=n,this.weapons.set(n),this.loadStats()}else console.error("Resposta inv\xe1lida da API:",t),this.error.set("Resposta inv\xe1lida da API");setTimeout(()=>{this.loading.set(!1)},1500)},error:t=>{console.error("Erro ao carregar armas:",t),this.error.set(t.message),this.loading.set(!1)}})}loadStats(){this.weaponsService.getCategoryStats(this.currentCategory()).subscribe({next:t=>{this.stats.set(t)},error:t=>{console.error("Erro ao carregar estat\xedsticas:",t)}})}onCategoryChange(t){this.currentCategory.set(t),this.showCategoryList.set(!0),this.resetFilters(),this.loading.set(!0),this.loadWeapons()}onSearch(){this.applyFilters()}onVocationChange(){this.applyFilters()}onTierChange(){this.applyFilters()}onLevelChange(){this.applyFilters()}onBackToCategories(){this.showCategoryList.set(!1),this.weapons.set([]),this.stats.set(null),this.currentCategory.set("swords"),this.resetFilters()}onWeaponClick(t){this.router.navigate(["/weapons",t.category?.id||this.currentCategory(),t.name],{queryParams:{from:"category-list",category:t.category?.id||this.currentCategory()}})}resetFilters(){this.searchTerm="",this.selectedVocation="",this.selectedTier="",this.minLevel=0}applyFilters(){let t=[...this.originalWeapons];this.searchTerm.trim()&&(t=t.filter(n=>n.name.toLowerCase().includes(this.searchTerm.toLowerCase()))),this.selectedVocation&&(t=t.filter(n=>n.vocation.toLowerCase()===this.selectedVocation.toLowerCase()||"todas"===n.vocation.toLowerCase())),this.selectedTier&&(t=t.filter(n=>n.tier===parseInt(this.selectedTier))),this.minLevel>0&&(t=t.filter(n=>n.level>=this.minLevel)),this.weapons.set(t)}getCategoryIcon(t){return{swords:"assets/icons-svg/swords.svg",axes:"assets/icons-svg/axes.svg",clavas:"assets/icons-svg/mace.svg",ranged:"assets/icons-svg/bow-and-arrow.svg",rods:"assets/icons-svg/magic-wand.svg",wands:"assets/icons-svg/wooden-stick.svg",fist:"assets/icons-svg/protest.svg"}[t]||"assets/icons-svg/swords.svg"}getIconAssetPath(t){return t.startsWith("assets/")||t.startsWith("http")?t:t.startsWith("icons/")?`assets/${t}`:"assets/icons/32_11345f84.png"}getIconAssetPaths(t){return t.map(n=>this.getIconAssetPath(n))}checkIconExists(t){return(0,u.A)(function*(){try{return(yield fetch(t,{method:"HEAD"})).ok}catch{return!1}})()}getIconAssetPathAsync(t){var n=this;return(0,u.A)(function*(){if(t.startsWith("assets/")||t.startsWith("http"))return t;const a=t.replace(/\.(png|gif|jpg|jpeg|svg)$/i,"");if(a.includes("_")){const g=[".png",".gif",".svg"];for(const m of g){const d=`assets/icons/${a}${m}`;if(yield n.checkIconExists(d))return d}}const s=["32_","38_"],i=[".png",".gif",".svg"];for(const g of s)for(const m of i){const d=`assets/icons/${g}${a}${m}`;if(yield n.checkIconExists(d))return d}return"assets/icons/32_11345f84.png"})()}getWeaponEmoji(t){const n=t.toLowerCase();if(n.includes("sword")||n.includes("espada")||n.includes("blade"))return"\u2694\ufe0f";if(n.includes("rapier")||n.includes("estoc")||n.includes("foil")||n.includes("epee"))return"\u{1f93a}";if(n.includes("sabre")||n.includes("sabre"))return"\u{1f5e1}\ufe0f";if(n.includes("katana")||n.includes("katana")||n.includes("scimitar")||n.includes("cimitarra")||n.includes("slayer")||n.includes("slayer")||n.includes("claymore")||n.includes("claymore")||n.includes("longsword")||n.includes("longsword"))return"\u2694\ufe0f";if(n.includes("axe")||n.includes("machado")||n.includes("hatchet")||n.includes("battle axe")||n.includes("machado de batalha")||n.includes("battleaxe")||n.includes("war axe")||n.includes("machado de guerra")||n.includes("waraxe")||n.includes("greataxe")||n.includes("machado grande")||n.includes("chopper")||n.includes("cortador")||n.includes("cleaver")||n.includes("cutelo"))return"\u{1fa93}";if(n.includes("halberd")||n.includes("alabarda")||n.includes("lance")||n.includes("lan\xe7a")||n.includes("trident")||n.includes("tridente")||n.includes("naginata")||n.includes("naginata"))return"\u{1f531}";if(n.includes("scythe")||n.includes("gadanha"))return"\u{1f33e}";if(n.includes("impaler")||n.includes("empalador"))return"\ufffd\ufffd";if(n.includes("club")||n.includes("clava")||n.includes("mace"))return"\u{1f3cf}";if(n.includes("morning star")||n.includes("estrela da manh\xe3"))return"\u2b50";if(n.includes("hammer")||n.includes("martelo")||n.includes("war hammer")||n.includes("martelo de guerra")||n.includes("warhammer"))return"\u{1f528}";if(n.includes("bludgeon")||n.includes("ma\xe7a")||n.includes("cudgel")||n.includes("porrete"))return"\u{1f3cf}";if(n.includes("flail")||n.includes("mangual"))return"\u2694\ufe0f";if(n.includes("warmace")||n.includes("maca de guerra"))return"\u{1f3cf}";if(n.includes("sceptre")||n.includes("cetro"))return"\u{1f451}";if(n.includes("staff")||n.includes("cajado"))return"\u{1fa84}";if(n.includes("squelcher")||n.includes("esmagador"))return"\u{1f3cf}";if(n.includes("demonbone")||n.includes("osso demon\xedaco"))return"\u{1f480}";if(n.includes("truncheon")||n.includes("cassetete")||n.includes("klubba")||n.includes("clava"))return"\u{1f3cf}";if(n.includes("maul")||n.includes("malho"))return"\u{1f528}";if(n.includes("whip")||n.includes("chicote"))return"\u{1faa2}";if(n.includes("bow")||n.includes("arco")||n.includes("crossbow"))return"\u{1f3f9}";if(n.includes("spear")||n.includes("lan\xe7a")||n.includes("javelin"))return"\u{1f531}";if(n.includes("throwing")||n.includes("arremesso"))return"\u{1f3af}";if(n.includes("rod")||n.includes("vara")||n.includes("staff")||n.includes("wand")||n.includes("varinha"))return"\u{1fa84}";if(n.includes("spellbook")||n.includes("grim\xf3rio"))return"\u{1f4d6}";if(n.includes("fist")||n.includes("punho")||n.includes("claw"))return"\u270a";if(n.includes("knuckle")||n.includes("nudillo"))return"\u{1f44a}";if(n.includes("dagger")||n.includes("adaga"))return"\u{1f5e1}\ufe0f";if(n.includes("knife")||n.includes("faca"))return"\u{1f52a}";if(n.includes("sickle")||n.includes("foice")||n.includes("scythe")||n.includes("gadanha"))return"\u{1f33e}";if(n.includes("hooks")||n.includes("ganchos"))return"\u{1f3a3}";const a=this.currentCategory();return"swords"===a?"\u2694\ufe0f":"axes"===a?"\u{1fa93}":"clavas"===a?"\u{1f3cf}":"ranged"===a?"\u{1f3f9}":"rods"===a||"wands"===a?"\u{1fa84}":"fist"===a?"\u270a":"\u2694\ufe0f"}capitalizeFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}formatBonusName(t){return t.split("_").map(n=>this.capitalizeFirst(n)).join(" ")}trackByWeaponName(t,n){return n.name}trackByIcon(t,n){return n}getWeaponImageUrl(t){if(t.image_url){let n=t.image_url;if(n.startsWith("@")&&(n=n.substring(1)),n.startsWith("assets/")||n.startsWith("http"))return n;const a=this.getItemImagePath(n);if(a)return a}if(t.name){const n=this.getWeaponImageFromName(t.name);if(n)return n}return this.getWeaponEmoji(t.name)}getWeaponImageUrlWithProxy(t){if(!t.image_url)return this.getWeaponEmoji(t.name);let n=t.image_url;return n.startsWith("@")&&(n=n.substring(1)),n.startsWith("http")&&!n.includes("localhost")?[`https://cors-anywhere.herokuapp.com/${n}`,encodeURIComponent(n),encodeURIComponent(n)][0]:n}getWeaponImageUrlDirect(t){if(t.image_url){const a=this.getItemImagePath(t.image_url);if(a)return a}return this.getWeaponImageFromName(t.name)||this.getWeaponEmoji(t.name)}getWeaponImageFromName(t){if(!t)return null;return`assets/itens/${t.replace(/\s+/g,"_")}.webp`}getItemImagePath(t){if(!t)return null;const n=t.replace(/^local:\/\//,"");return n.endsWith(".webp")||n.endsWith(".gif")?n.endsWith(".gif")?`assets/sprites/loot/${n}`:`assets/itens/${n}`:["Butcher's_Axe","The_Imperor's_Trident","The_Plasmother's_Remains","The_Stomper","Thunder_Hammer","Trapped_Lightning","Triple_Bolt_Crossbow","The_Devileye","The_Handmaiden's_Protector","Yol's_Bow"].includes(n)?`assets/sprites/loot/${n}.gif`:`assets/itens/${n}.webp`}findSimilarItemName(t,n){const a=t.toLowerCase();for(const i of n)if(i.toLowerCase().includes(a)||a.includes(i.toLowerCase()))return i;const s=a.split(/[\s_]+/);for(const i of n){const g=i.toLowerCase().split(/[\s_]+/);if(s.filter(d=>g.includes(d)).length>=.7*Math.min(s.length,g.length))return i}return null}hasWeaponImage(t){if(t.image_url&&""!==t.image_url.trim()){let n=t.image_url.trim();if(n.startsWith("@")&&(n=n.substring(1)),n.startsWith("assets/")||n.startsWith("http")||null!==this.getItemImagePath(n))return!0}return!!t.name&&null!==this.getWeaponImageFromName(t.name)}onImageError(t,n){console.warn(`Erro ao carregar imagem para ${n.name}:`,t);const a=t.target.src;if(a.endsWith(".webp")){const s=a.replace(".webp",".gif");t.target.src=s}else if(a.endsWith(".gif")){const s=a.replace(".gif",".webp");t.target.src=s}else n.image_url=""}onImageLoad(t,n){}getDefaultCategories(){return[{id:"swords",name:"Espadas",weapons_endpoint:"/api/weapons?action=list&category=swords",detail_endpoint:"/api/weapons?action=weapon&category=swords"},{id:"axes",name:"Machados",weapons_endpoint:"/api/weapons?action=list&category=axes",detail_endpoint:"/api/weapons?action=weapon&category=axes"},{id:"clavas",name:"Clavas",weapons_endpoint:"/api/weapons?action=list&category=clavas",detail_endpoint:"/api/weapons?action=weapon&category=clavas"},{id:"ranged",name:"Armas de Longo Alcance",weapons_endpoint:"/api/weapons?action=list&category=ranged",detail_endpoint:"/api/weapons?action=weapon&category=ranged"},{id:"rods",name:"Rods",weapons_endpoint:"/api/weapons?action=list&category=rods",detail_endpoint:"/api/weapons?action=weapon&category=rods"},{id:"wands",name:"Wands",weapons_endpoint:"/api/weapons?action=list&category=wands",detail_endpoint:"/api/weapons?action=weapon&category=wands"},{id:"fist",name:"Armas de Punho",weapons_endpoint:"/api/weapons?action=list&category=fist",detail_endpoint:"/api/weapons?action=weapon&category=fist"}]}showSavedWeaponsSection(){this.showSavedWeapons.set(!0),this.showCategoryList.set(!1),this.loadSavedWeapons()}hideSavedWeaponsSection(){this.showSavedWeapons.set(!1),this.showCategoryList.set(!1)}loadSavedWeapons(){var t=this;return(0,u.A)(function*(){t.loading.set(!0),t.loadingSavedWeapons.set(!0),t.error.set(null);try{const n=yield t.proficiencyApiService.list();n.success&&n.data?(t.savedWeapons.set(n.data),console.log("Armas salvas carregadas:",n.data)):(t.savedWeapons.set([]),console.log("Nenhuma arma salva encontrada"))}catch(n){console.error("Erro ao carregar armas salvas:",n),t.error.set("Erro ao carregar suas armas salvas. Tente novamente."),t.savedWeapons.set([])}finally{t.loadingSavedWeapons.set(!1)}setTimeout(()=>{t.loading.set(!1)},1500)})()}onSavedWeaponClick(t){this.router.navigate(["/weapons",t.weapon_category,t.weapon_name],{queryParams:{from:"saved-weapons"}})}formatSavedDate(t){if(!t)return console.log("Data vazia recebida da API"),"Data n\xe3o dispon\xedvel";console.log("Data recebida da API:",t);try{const n=new Date(t);if(isNaN(n.getTime()))return console.log("Data inv\xe1lida:",t),"Data inv\xe1lida";const a=n.toLocaleDateString("pt-BR")+" \xe0s "+n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return console.log("Data formatada:",a),a}catch(n){return console.error("Erro ao formatar data:",n,"Data original:",t),"Erro na data"}}getSavedWeaponImageUrl(t){if(!t)return"";if(this.savedWeaponImageCache.has(t))return this.savedWeaponImageCache.get(t)||"";const a=`assets/itens/${t.replace(/\s+/g,"_")}.webp`;return this.savedWeaponImageCache.set(t,a),a}hasSavedWeaponImage(t){if(!t)return!1;const n=this.savedWeaponImageCache.get(t);return"\u2694\ufe0f"!==n&&""!==n}onSavedWeaponImageError(t,n){console.log(`Erro ao carregar imagem da arma salva: ${n}`);const a=t.target?.src||"",s=n.replace(/\s+/g,"_");if(a.includes(".webp")){const i=`assets/itens/${s}.gif`;return this.savedWeaponImageCache.set(n,i),void(t.target.src=i)}this.savedWeaponImageCache.set(n,"\u2694\ufe0f"),t.target&&(t.target.style.display="none")}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(f.T),e.rXU(p.Ix),e.rXU(p.nX),e.rXU(v.T),e.rXU(C.b))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-weapons"]],decls:24,vars:9,consts:[["class","svg-loader-overlay",4,"ngIf"],[1,"parchment-background"],[1,"consulta-layout"],[1,"tavernatibiana-title"],[1,"parchment-card","medieval-disclaimer"],["class","voltar-button-card",3,"routerLink",4,"ngIf"],["class","voltar-button-card",3,"click",4,"ngIf"],[2,"display","flex","align-items","center","gap","0.3rem","margin-bottom","0.5rem","margin-top","3rem"],["src","assets/icons-svg/arsenalweapons.svg","alt","Arsenal",1,"svg-icon","intro-icon"],[1,"medieval-text"],[1,"medieval-intro"],["class","category-section",4,"ngIf"],["class","saved-weapons-section",4,"ngIf"],["class","saved-weapons-list-section",4,"ngIf"],["class","weapons-section-inside",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"svg-loader-overlay"],[1,"svg-loader"],["fill","#000000","height","200px","width","200px","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 452.022 452.022",0,"xml","space","preserve"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M440.761,380.351l-50.512-50.512l24.481-24.481c3.905-3.905,3.905-10.237,0-14.143c-3.905-3.904-10.237-3.904-14.143,0 l-9.494,9.494l-42.368-42.368c6.562-23.401,9.894-47.59,9.894-72l-0.001-153.69c0-4.777-3.379-8.887-8.065-9.811 c-113.629-22.402-228.859-22.402-342.488,0C3.379,23.764,0,27.875,0,32.652v153.69c0,55.105,16.721,108.08,48.356,153.2 c31.635,45.119,75.739,78.897,127.545,97.681c1.101,0.399,2.255,0.599,3.409,0.599c1.154,0,2.308-0.2,3.41-0.599 c40.392-14.651,76.722-38.923,105.694-70.5l18.334,18.334l-9.494,9.494c-3.905,3.905-3.905,10.237,0,14.143 c1.953,1.953,4.512,2.929,7.071,2.929c2.559,0,5.119-0.977,7.071-2.929l24.481-24.481l50.512,50.512 c7.262,7.261,16.917,11.26,27.187,11.26s19.924-3.999,27.186-11.26c7.262-7.262,11.261-16.917,11.261-27.186 C452.022,397.268,448.023,387.613,440.761,380.351z M359.946,331.858l-3.954,3.954L162.901,142.72l45.434,3.515l168.616,168.617 L359.946,331.858z M303.621,186.342c0,8.507-0.522,16.987-1.523,25.371l-82.234-82.234c-1.687-1.687-3.921-2.715-6.3-2.899 l-76.09-5.886c-2.916-0.229-5.777,0.833-7.842,2.899c-2.065,2.065-3.124,4.93-2.899,7.842l5.886,76.09 c0.184,2.379,1.212,4.613,2.899,6.3L249.48,327.788c-19.637,21.998-43.181,39.294-70.167,51.487 c-34.45-15.596-64.093-40.179-85.924-71.304C68.275,272.143,55,230.084,55,186.342l0-110.473c82.527-15.788,166.093-15.788,248.62,0 V186.342z M179.309,417.156c-46.45-17.606-86.009-48.352-114.577-89.097C35.468,286.322,20,237.317,20,186.342l0-145.43 c105.764-19.83,212.856-19.83,318.62,0v145.43c0,18.764-2.131,37.386-6.331,55.563l-12.648-12.648 c2.637-14.044,3.979-28.452,3.979-42.915l-0.001-118.69c0-4.753-3.346-8.849-8.003-9.798c-90.445-18.438-182.167-18.438-272.614,0 C38.345,58.802,35,62.899,35,67.652v118.69c0,47.872,14.527,93.9,42.013,133.112c24.797,35.354,58.809,62.997,98.359,79.939 c1.257,0.539,2.597,0.808,3.938,0.808c1.34,0,2.68-0.269,3.937-0.808c31.01-13.282,57.997-32.593,80.394-57.444l10.618,10.618 C248.179,381.194,215.58,403.39,179.309,417.156z M152.273,202.297l-3.514-45.434l193.091,193.091l-20.96,20.959L152.273,202.297z M376.107,343.981l6.336,6.336l-15.345,36.829l-17.078-17.078L376.107,343.981z M382.392,402.44l15.345-36.829l11.178,11.178 l-15.345,36.829L382.392,402.44z M426.619,420.58L426.619,420.58c-3.483,3.484-8.116,5.403-13.043,5.403 c-1.141,0-2.262-0.114-3.361-0.315l13.994-33.585l2.41,2.41c3.484,3.484,5.403,8.116,5.403,13.043S430.103,417.096,426.619,420.58z"],[1,"voltar-button-card",3,"routerLink"],[1,"voltar-button-card",3,"click"],[1,"category-section"],[2,"margin","1.5rem 0"],[2,"display","flex","align-items","center","gap","0.3rem","margin-bottom","1rem"],["src","assets/icons-svg/role-playing-game.svg","alt","Espada",1,"svg-icon"],[1,"category-grid-improved"],["class","category-btn",3,"click",4,"ngFor","ngForOf"],[1,"category-btn",3,"click"],[1,"category-icon",3,"src","alt"],[1,"saved-weapons-section"],["src","assets/icons-svg/refine.svg","alt","Armas Domadas",1,"svg-icon"],[1,"saved-weapons-actions"],[1,"button-medieval",3,"click"],[1,"saved-weapons-list-section"],["class","loading-saved",4,"ngIf"],["class","no-saved-weapons",4,"ngIf"],["class","saved-weapons-grid",4,"ngIf"],[1,"loading-saved"],[1,"loading-content"],["src","assets/icons-svg/arsenalweapons.svg","alt","Carregando",1,"svg-icon","rotating"],[1,"no-saved-weapons"],[1,"empty-state"],["src","assets/icons-svg/information.svg","alt","Vazio",1,"empty-icon"],[1,"saved-weapons-grid"],["class","saved-weapon-card",3,"click",4,"ngFor","ngForOf"],[1,"saved-weapon-card",3,"click"],[1,"saved-weapon-content"],[1,"saved-weapon-header"],[1,"weapon-icon"],["loading","lazy",1,"weapon-image",3,"error","src","alt"],["class","weapon-emoji",4,"ngIf"],[1,"weapon-info"],[1,"weapon-name"],[1,"weapon-category"],[1,"saved-weapon-details"],[1,"saved-date"],[1,"perks-count"],["src","assets/icons-svg/xp.svg","alt","Perks",1,"detail-icon"],[1,"view-button"],[1,"btn-text"],[1,"weapon-emoji"],[1,"weapons-section-inside"],[1,"svg-icon",3,"src","alt"],[1,"search-box"],["type","text","placeholder","Buscar armas...",1,"search-input",3,"ngModelChange","input","ngModel"],["class","no-weapons",4,"ngIf"],[1,"weapons-grid"],["class","weapon-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-weapons"],[1,"weapon-card",3,"click"],[1,"weapon-content"],["class","weapon-image","loading","lazy",3,"src","alt","error","load",4,"ngIf"],["loading","lazy",1,"weapon-image",3,"error","load","src","alt"],[1,"error-message"],[1,"parchment-card","error-card"],[1,"retry-btn",3,"click"]],template:function(n,a){1&n&&(e.DNE(0,w,7,0,"div",0),e.j41(1,"div",1)(2,"div",2)(3,"h1",3),e.EFF(4,"Cap\xedtulo das Armas Domadas"),e.k0s(),e.j41(5,"div",4),e.DNE(6,P,2,1,"button",5)(7,M,2,0,"button",6)(8,O,2,0,"button",6),e.j41(9,"div",7),e.nrm(10,"img",8),e.j41(11,"h2",9),e.EFF(12," Onde o a\xe7o encontra o bra\xe7o... e o treino evita trag\xe9dias. "),e.k0s()(),e.j41(13,"p",10),e.EFF(14," Ah, as armas! Fi\xe9is companheiras de jornada\u2026 ou perigos ambulantes nas m\xe3os erradas. Neste cap\xedtulo do grim\xf3rio, registramos quais l\xe2minas, martelos, adagas e afins tu j\xe1 aprendeu a manejar sem virar motivo de piada na taverna. "),e.k0s(),e.j41(15,"p",10),e.EFF(16," Aqui tu confere tua profici\xeancia com cada arma, acompanha quais j\xe1 est\xe3o sob teu dom\xednio e quais ainda fazem teu bra\xe7o doer s\xf3 de olhar. Com um pouco de suor e umas boas porradas (de prefer\xeancia nos inimigos), vais ver tua maestria crescer p\xe1gina por p\xe1gina. "),e.k0s(),e.j41(17,"p",10),e.EFF(18," Domina teu arsenal e mostra ao mundo que tu n\xe3o \xe9 s\xf3 mais um que balan\xe7a a espada sem saber pra onde vai! "),e.k0s(),e.DNE(19,y,8,1,"div",11)(20,x,11,0,"div",12)(21,F,9,4,"div",13)(22,$,11,8,"div",14),e.k0s(),e.DNE(23,G,8,1,"div",15),e.k0s()()),2&n&&(e.Y8G("ngIf",a.loading()),e.R7$(6),e.Y8G("ngIf",!a.showCategoryList()&&!a.showSavedWeapons()),e.R7$(),e.Y8G("ngIf",a.showCategoryList()),e.R7$(),e.Y8G("ngIf",a.showSavedWeapons()),e.R7$(11),e.Y8G("ngIf",!a.showCategoryList()&&!a.showSavedWeapons()),e.R7$(),e.Y8G("ngIf",!a.showCategoryList()&&!a.showSavedWeapons()),e.R7$(),e.Y8G("ngIf",a.showSavedWeapons()),e.R7$(),e.Y8G("ngIf",a.showCategoryList()),e.R7$(),e.Y8G("ngIf",a.error()))},dependencies:[_.MD,_.Sq,_.bT,l.YN,l.me,l.BC,l.vS,p.iI,p.Wk],styles:['@charset "UTF-8";.parchment-background[_ngcontent-%COMP%]{background:#fdf8e4;min-height:100vh;padding:0 0 2rem}.weapons-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:1rem}.parchment-card[_ngcontent-%COMP%]{background:#fffbe6;border:2px solid #a07947;border-radius:12px;box-shadow:0 2px 8px #a0794714;padding:2rem 1.5rem;margin-bottom:2rem}.parchment-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem;font-family:MedievalSharp,serif;color:#7b5e3b}.parchment-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em;vertical-align:middle;flex-shrink:0}.category-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem;justify-items:center}.category-grid-improved[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1rem}.category-grid-improved[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]{height:100px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.category-grid-improved[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;margin-bottom:.5rem}.category-grid-improved[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.2}.category-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;background:linear-gradient(135deg,#fdf8e4,#e8d9a5);border:2px solid #a07947;border-radius:8px;cursor:pointer;font-family:MedievalSharp,serif;color:#3e2f1c;min-width:110px;transition:box-shadow .2s,transform .2s}.category-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #a079472e;transform:translateY(-2px)}.category-icon[_ngcontent-%COMP%]{width:2.2rem;height:2.2rem}.back-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.7rem 1.2rem;background:#f5e1b8;border:1.5px solid #a88d5a;border-radius:6px;font-family:MedievalSharp,serif;color:#3e2f1c;cursor:pointer;font-size:1rem;transition:background .2s,transform .2s}.back-btn[_ngcontent-%COMP%]:hover{background:#e8d9a5;transform:translateY(-2px)}.back-icon[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem}.weapons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.5rem;margin-top:1.5rem;width:100%;box-sizing:border-box}.weapon-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fdf8e4,#e8d9a5);border:2px solid #a07947;border-radius:12px;padding:1.8rem 1.2rem;min-width:200px;max-width:280px;flex:1 1 220px;cursor:pointer;transition:box-shadow .2s,transform .2s;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.weapon-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #a079472e;transform:translateY(-4px)}.weapon-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:1rem;width:100%}.weapon-icon[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;display:flex;align-items:center;justify-content:center;margin-bottom:.8rem;border-radius:6px;overflow:hidden;background:transparent}.weapon-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.3));border-radius:4px;display:block;max-width:100%;max-height:100%;background:transparent}.weapon-emoji[_ngcontent-%COMP%]{font-size:2rem;display:flex;align-items:center;justify-content:center;width:100%;height:100%;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.3))}.weapon-name[_ngcontent-%COMP%]{margin:0;color:#7b5e3b;font-size:1.1em;font-family:MedievalSharp,serif;font-weight:700;line-height:1.2}.search-box[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.search-input[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:.7rem 1rem;font-size:1rem;border:2px solid #a07947;border-radius:8px;background:#fdf8e4;font-family:Georgia,serif;color:#3e2f1c}.no-weapons[_ngcontent-%COMP%]{text-align:center;color:#a07947;margin:1.5rem 0}.navigation-section[_ngcontent-%COMP%]{margin-top:2rem}.nav-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}.nav-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fdf8e4;border:1.5px solid #a07947;border-radius:8px;padding:.7rem 1.2rem;font-family:MedievalSharp,serif;color:#3e2f1c;cursor:pointer;font-size:1rem;transition:background .2s,transform .2s}.nav-btn[_ngcontent-%COMP%]:hover{background:#e8d9a5;transform:translateY(-2px)}.nav-icon[_ngcontent-%COMP%]{width:1.3rem;height:1.3rem}.tavernatibiana-footer[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;color:#7b5e3b;font-family:MedievalSharp,serif;font-size:1em}.footer-separator[_ngcontent-%COMP%]{margin:2rem auto 1rem;border:none;border-top:1.5px solid #a07947;width:60%}@media (max-width: 900px){.weapons-container[_ngcontent-%COMP%]{padding:.5rem}.parchment-card[_ngcontent-%COMP%]{padding:1.2rem .5rem}.parchment-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;gap:.4rem}.parchment-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%]{width:1.3em;height:1.3em}.weapons-grid[_ngcontent-%COMP%]{gap:1.2rem;margin-top:1.2rem}}@media (max-width: 600px){.weapons-container[_ngcontent-%COMP%]{padding:.3rem}.category-grid[_ngcontent-%COMP%]{gap:.5rem}.weapons-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.8rem;width:100%;max-width:100%;padding:0}.weapon-card[_ngcontent-%COMP%]{min-width:0;max-width:100%;width:100%;padding:1rem .6rem;box-sizing:border-box}.parchment-card[_ngcontent-%COMP%]{padding:.7rem .2rem}.parchment-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;gap:.3rem;flex-direction:column;text-align:center}.parchment-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%]{width:1.2em;height:1.2em}.weapon-icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.weapon-name[_ngcontent-%COMP%]{font-size:.95rem}}.saved-weapons-list-section[_ngcontent-%COMP%]{margin-top:1rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .loading-saved[_ngcontent-%COMP%]{text-align:center;padding:2rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .loading-saved[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .loading-saved[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .rotating[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 2s linear infinite}.saved-weapons-list-section[_ngcontent-%COMP%]   .loading-saved[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7b5e3b;font-family:MedievalSharp,serif;font-size:1.1rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .no-saved-weapons[_ngcontent-%COMP%]{text-align:center;padding:2rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .no-saved-weapons[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:4rem;height:4rem;opacity:.6;margin-bottom:1rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .no-saved-weapons[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#7b5e3b;margin-bottom:1rem;font-family:MedievalSharp,serif;font-size:1.3rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .no-saved-weapons[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7b5e3b;margin-bottom:1.5rem;font-family:Georgia,serif;font-size:1rem;line-height:1.5}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-top:1.5rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fdf8e4,#e8d9a5);border:2px solid #a07947;border-radius:12px;padding:1.5rem;cursor:pointer;transition:box-shadow .2s,transform .2s;box-shadow:0 4px 8px #a079471a}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #a079472e;transform:translateY(-4px)}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-header[_ngcontent-%COMP%]   .weapon-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;display:flex;align-items:center;justify-content:center;border-radius:6px;overflow:hidden;background:transparent;flex-shrink:0}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-header[_ngcontent-%COMP%]   .weapon-icon[_ngcontent-%COMP%]   .weapon-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.3));border-radius:6px}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-header[_ngcontent-%COMP%]   .weapon-info[_ngcontent-%COMP%]{flex:1}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-header[_ngcontent-%COMP%]   .weapon-info[_ngcontent-%COMP%]   .weapon-name[_ngcontent-%COMP%]{margin:0 0 .3rem;color:#3e2f1c;font-size:1.2rem;font-family:MedievalSharp,serif;font-weight:700}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-header[_ngcontent-%COMP%]   .weapon-info[_ngcontent-%COMP%]   .weapon-category[_ngcontent-%COMP%]{margin:0;color:#7b5e3b;font-size:.9rem;font-family:MedievalSharp,serif}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-details[_ngcontent-%COMP%]   .saved-date[_ngcontent-%COMP%], .saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-details[_ngcontent-%COMP%]   .perks-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#7b5e3b;font-size:.9rem;font-family:Georgia,serif}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-details[_ngcontent-%COMP%]   .saved-date[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%], .saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .saved-weapon-details[_ngcontent-%COMP%]   .perks-count[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;opacity:.7}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.8rem 1rem;background:#f5e1b8;border:2px solid #a88d5a;border-radius:8px;transition:background .2s}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%]:hover{background:#e8d9a5}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#3e2f1c;font-family:MedievalSharp,serif;font-size:.9rem;font-weight:700}.saved-weapons-list-section[_ngcontent-%COMP%]   .saved-weapon-content[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;opacity:.7}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.parchment-background[_ngcontent-%COMP%]{padding:0}.weapons-container[_ngcontent-%COMP%]{padding:.5rem;max-width:100%}.consulta-layout[_ngcontent-%COMP%]{padding:.5rem}.tavernatibiana-title[_ngcontent-%COMP%]{font-size:2rem;margin:1rem 0}.parchment-card[_ngcontent-%COMP%]{margin-bottom:1rem;padding:1rem;border-radius:8px;width:100%;box-sizing:border-box}.category-grid[_ngcontent-%COMP%], .category-grid-improved[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:.8rem}.category-grid[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%], .category-grid-improved[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]{height:90px}.category-grid[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-grid-improved[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:2.2rem;height:2.2rem}.category-grid[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .category-grid-improved[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem}.category-btn[_ngcontent-%COMP%]{min-width:auto;padding:.8rem .5rem;font-size:.9rem}.category-icon[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem}.button-medieval[_ngcontent-%COMP%]{width:100%;font-size:1rem;padding:.8rem;margin:.5rem 0}.saved-weapons-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 0}.saved-weapons-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.8rem}.saved-weapons-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%]{width:1.2em;height:1.2em}.saved-weapons-section[_ngcontent-%COMP%]   .medieval-text[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .medieval-text[_ngcontent-%COMP%]{font-size:1.1rem}.saved-weapons-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.saved-weapon-card[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 480px){.tavernatibiana-title[_ngcontent-%COMP%]{font-size:1.8rem}.parchment-card[_ngcontent-%COMP%]{padding:.8rem;margin-bottom:.8rem}.voltar-button-card[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem}.category-grid[_ngcontent-%COMP%], .category-grid-improved[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.6rem}.category-grid[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%], .category-grid-improved[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]{height:80px}.category-grid[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-grid-improved[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.category-grid[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .category-grid-improved[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.category-btn[_ngcontent-%COMP%]{padding:1rem;font-size:1rem}.category-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.medieval-text[_ngcontent-%COMP%]{font-size:1.1rem}.saved-weapons-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:.8rem 0}.saved-weapons-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;flex-direction:column;gap:.3rem;text-align:center}.back-btn[_ngcontent-%COMP%]{width:100%;justify-content:center;margin-bottom:1rem}.search-input[_ngcontent-%COMP%]{width:100%;font-size:1rem}.weapons-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-top:1rem;width:100%;max-width:100%}.weapon-card[_ngcontent-%COMP%]{padding:1.2rem .8rem;border-radius:10px;max-width:100%;width:100%;box-sizing:border-box;min-width:0}.weapon-name[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.weapons-container[_ngcontent-%COMP%]{padding:.2rem}.parchment-card[_ngcontent-%COMP%]{padding:.8rem .5rem;margin:.5rem 0}.weapons-grid[_ngcontent-%COMP%]{gap:.6rem;margin-top:.8rem;width:100%;max-width:100%;padding:0}.weapon-card[_ngcontent-%COMP%]{padding:.8rem .5rem;border-radius:8px;width:100%;max-width:100%;box-sizing:border-box;min-width:0}.weapon-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;margin-bottom:.6rem}.weapon-name[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{font-size:.9rem;padding:.6rem .8rem}}']})}}return o})()}}]);