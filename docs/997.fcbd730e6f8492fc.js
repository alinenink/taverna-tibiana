"use strict";(self.webpackChunktaverna_tibiana=self.webpackChunktaverna_tibiana||[]).push([[997],{3997:(K,d,c)=>{c.r(d),c.d(d,{RegisterComponent:()=>J});var p=c(467),u=c(177),a=c(4341),_=c(4796),e=c(4020),g=c(5085),f=c(2210),v=c(7503);function h(n,r){1&n&&(e.j41(0,"div",7)(1,"div",8),e.qSk(),e.j41(2,"svg",9),e.nrm(3,"g",10)(4,"g",11),e.j41(5,"g",12),e.nrm(6,"path",13),e.k0s()()()())}function F(n,r){if(1&n&&(e.j41(0,"div",38),e.EFF(1),e.k0s()),2&n){const o=e.XpG(2);e.R7$(),e.JRh(o.erro)}}function E(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Email \xe9 obrigat\xf3rio"),e.k0s())}function C(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Formato de email inv\xe1lido"),e.k0s())}function k(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Dom\xednio de email n\xe3o permitido"),e.k0s())}function b(n,r){if(1&n&&(e.j41(0,"div",38),e.DNE(1,E,2,0,"span",35)(2,C,2,0,"span",35)(3,k,2,0,"span",35),e.k0s()),2&n){let o,t,i;const l=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=l.registerForm.get("email"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(t=l.registerForm.get("email"))||null==t.errors?null:t.errors.email),e.R7$(),e.Y8G("ngIf",null==(i=l.registerForm.get("email"))||null==i.errors?null:i.errors.invalidDomain)}}function x(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Nome do personagem \xe9 obrigat\xf3rio"),e.k0s())}function P(n,r){if(1&n&&(e.j41(0,"div",38),e.DNE(1,x,2,0,"span",35),e.k0s()),2&n){let o;const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=t.registerForm.get("char"))||null==o.errors?null:o.errors.required)}}function M(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Senha \xe9 obrigat\xf3ria"),e.k0s())}function j(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Senha deve ter pelo menos 8 caracteres"),e.k0s())}function O(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Senha deve conter letras e n\xfameros"),e.k0s())}function T(n,r){if(1&n&&(e.j41(0,"div",38),e.DNE(1,M,2,0,"span",35)(2,j,2,0,"span",35)(3,O,2,0,"span",35),e.k0s()),2&n){let o,t,i;const l=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=l.registerForm.get("password"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(t=l.registerForm.get("password"))||null==t.errors?null:t.errors.minlength),e.R7$(),e.Y8G("ngIf",null==(i=l.registerForm.get("password"))||null==i.errors?null:i.errors.pattern)}}function R(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Confirma\xe7\xe3o de senha \xe9 obrigat\xf3ria"),e.k0s())}function w(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Senhas n\xe3o coincidem"),e.k0s())}function D(n,r){if(1&n&&(e.j41(0,"div",38),e.DNE(1,R,2,0,"span",35)(2,w,2,0,"span",35),e.k0s()),2&n){let o,t;const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=i.registerForm.get("confirmPassword"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(t=i.registerForm.get("confirmPassword"))||null==t.errors?null:t.errors.passwordMismatch)}}function y(n,r){1&n&&(e.j41(0,"div",38),e.EFF(1," Voc\xea deve aceitar os termos para se registrar "),e.k0s())}function G(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Alistar-se na Guilda"),e.k0s())}function I(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Registrando..."),e.k0s())}function S(n,r){if(1&n){const o=e.RV6();e.j41(0,"form",14),e.bIt("ngSubmit",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.onSubmit())}),e.nrm(1,"hr"),e.j41(2,"div",15)(3,"p"),e.nrm(4,"img",16),e.j41(5,"strong",17),e.EFF(6,"Sauda\xe7\xf5es, nobre aventureiro!"),e.k0s()(),e.j41(7,"p"),e.EFF(8," Para registrar-se em nossa taverna, preencha o pergaminho abaixo com seus dados m\xe1gicos."),e.nrm(9,"br"),e.j41(10,"strong"),e.EFF(11,"IMPORTANTE:"),e.k0s(),e.j41(12,"span",18),e.EFF(13," N\xc3O use a mesma senha da sua conta do Tibia!"),e.k0s(),e.nrm(14,"br"),e.EFF(15," A senha do portal deve ter pelo menos 8 caracteres, incluindo letras e n\xfameros."),e.nrm(16,"br"),e.EFF(17," E "),e.j41(18,"strong"),e.EFF(19,"lembre-se:"),e.k0s(),e.EFF(20," aqui, sua privacidade \xe9 respeitada como a receita do melhor hidromel! "),e.k0s()(),e.DNE(21,F,2,1,"div",19),e.j41(22,"div",20),e.nrm(23,"img",21)(24,"input",22),e.k0s(),e.DNE(25,b,4,3,"div",19),e.j41(26,"div",20),e.nrm(27,"img",23)(28,"input",24),e.k0s(),e.DNE(29,P,2,1,"div",19),e.j41(30,"div",20),e.nrm(31,"img",25)(32,"input",26),e.k0s(),e.DNE(33,T,4,3,"div",19),e.j41(34,"div",20),e.nrm(35,"img",27)(36,"input",28),e.k0s(),e.DNE(37,D,3,2,"div",19),e.j41(38,"div",29)(39,"div",30),e.nrm(40,"input",31),e.j41(41,"label",32),e.EFF(42," Li e aceito os "),e.j41(43,"button",33),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.openTermsModal())}),e.EFF(44," Termos de Uso e Pol\xedtica de Privacidade "),e.k0s()()(),e.DNE(45,y,2,0,"div",19),e.k0s(),e.j41(46,"button",34),e.DNE(47,G,2,0,"span",35)(48,I,2,0,"span",35),e.k0s(),e.j41(49,"div",36)(50,"button",37),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.goToLogin())}),e.EFF(51," J\xe1 tens uma conta? Entrar na Taverna "),e.k0s(),e.j41(52,"button",37),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.goToVerification())}),e.EFF(53," J\xe1 possui um c\xf3digo? Clique aqui! "),e.k0s()()()}if(2&n){let o,t,i,l,m;const s=e.XpG();e.Y8G("formGroup",s.registerForm),e.R7$(21),e.Y8G("ngIf",s.erro),e.R7$(4),e.Y8G("ngIf",(null==(o=s.registerForm.get("email"))?null:o.invalid)&&(null==(o=s.registerForm.get("email"))?null:o.touched)),e.R7$(4),e.Y8G("ngIf",(null==(t=s.registerForm.get("char"))?null:t.invalid)&&(null==(t=s.registerForm.get("char"))?null:t.touched)),e.R7$(4),e.Y8G("ngIf",(null==(i=s.registerForm.get("password"))?null:i.invalid)&&(null==(i=s.registerForm.get("password"))?null:i.touched)),e.R7$(4),e.Y8G("ngIf",(null==(l=s.registerForm.get("confirmPassword"))?null:l.invalid)&&(null==(l=s.registerForm.get("confirmPassword"))?null:l.touched)),e.R7$(8),e.Y8G("ngIf",(null==(m=s.registerForm.get("acceptTerms"))?null:m.invalid)&&(null==(m=s.registerForm.get("acceptTerms"))?null:m.touched)),e.R7$(),e.Y8G("disabled",s.registerForm.invalid||s.carregando),e.R7$(),e.Y8G("ngIf",!s.carregando),e.R7$(),e.Y8G("ngIf",s.carregando)}}function V(n,r){if(1&n&&(e.j41(0,"p"),e.EFF(1," Seu registro foi realizado com sucesso! Agora, para completar sua entrada em nossa guilda, precisamos que voc\xea valide seu email m\xe1gico."),e.nrm(2,"br"),e.j41(3,"strong"),e.EFF(4,"Verifique sua caixa de entrada"),e.k0s(),e.EFF(5," em "),e.j41(6,"span",18),e.EFF(7),e.k0s(),e.nrm(8,"br"),e.EFF(9," e insira o c\xf3digo de 6 d\xedgitos que enviamos para voc\xea."),e.nrm(10,"br"),e.j41(11,"em"),e.EFF(12,"Se n\xe3o encontrar o email, verifique tamb\xe9m a pasta de spam!"),e.k0s()()),2&n){const o=e.XpG(2);e.R7$(7),e.JRh(o.registeredEmail)}}function N(n,r){if(1&n&&(e.j41(0,"p"),e.EFF(1," Para validar seu c\xf3digo de recupera\xe7\xe3o, insira o c\xf3digo de 6 d\xedgitos que voc\xea j\xe1 recebeu anteriormente em "),e.j41(2,"span",18),e.EFF(3),e.k0s(),e.EFF(4,"."),e.nrm(5,"br"),e.j41(6,"strong"),e.EFF(7,"Este c\xf3digo foi enviado em um email anterior."),e.k0s(),e.nrm(8,"br"),e.j41(9,"em"),e.EFF(10,"Se n\xe3o encontrar o c\xf3digo, verifique sua caixa de entrada e pasta de spam!"),e.k0s()()),2&n){const o=e.XpG(2);e.R7$(3),e.JRh(o.registeredEmail)}}function z(n,r){if(1&n&&(e.j41(0,"div",38),e.EFF(1),e.k0s()),2&n){const o=e.XpG(2);e.R7$(),e.SpI(" ",o.verificacaoErro," ")}}function A(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"C\xf3digo \xe9 obrigat\xf3rio"),e.k0s())}function $(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"C\xf3digo deve ter exatamente 6 d\xedgitos"),e.k0s())}function Y(n,r){if(1&n&&(e.j41(0,"div",38),e.DNE(1,A,2,0,"span",35)(2,$,2,0,"span",35),e.k0s()),2&n){let o,t;const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=i.verificationForm.get("code"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",(null==(t=i.verificationForm.get("code"))||null==t.errors?null:t.errors.minlength)||(null==(t=i.verificationForm.get("code"))||null==t.errors?null:t.errors.maxlength))}}function L(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Validar C\xf3digo"),e.k0s())}function X(n,r){1&n&&(e.j41(0,"span"),e.EFF(1,"Validando..."),e.k0s())}function B(n,r){if(1&n){const o=e.RV6();e.j41(0,"form",14),e.bIt("ngSubmit",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.onVerifyCode())}),e.j41(1,"h2"),e.EFF(2,"Valida\xe7\xe3o do Email"),e.k0s(),e.nrm(3,"hr"),e.j41(4,"div",15)(5,"p"),e.nrm(6,"img",16),e.j41(7,"strong",17),e.EFF(8),e.k0s()(),e.DNE(9,V,13,1,"p",35)(10,N,11,1,"p",35),e.k0s(),e.DNE(11,z,2,1,"div",19),e.j41(12,"div",20),e.nrm(13,"img",39)(14,"input",40),e.k0s(),e.DNE(15,Y,3,2,"div",19),e.j41(16,"button",34),e.DNE(17,L,2,0,"span",35)(18,X,2,0,"span",35),e.k0s(),e.j41(19,"div",36)(20,"button",41),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.backToRegister())}),e.EFF(21," Voltar ao Registro "),e.k0s()()()}if(2&n){let o;const t=e.XpG();e.Y8G("formGroup",t.verificationForm),e.R7$(8),e.JRh(t.isFromForgotPassword?"Valida\xe7\xe3o de C\xf3digo":"Excelente, aventureiro!"),e.R7$(),e.Y8G("ngIf",!t.isFromForgotPassword),e.R7$(),e.Y8G("ngIf",t.isFromForgotPassword),e.R7$(),e.Y8G("ngIf",t.verificacaoErro),e.R7$(4),e.Y8G("ngIf",(null==(o=t.verificationForm.get("code"))?null:o.invalid)&&(null==(o=t.verificationForm.get("code"))?null:o.touched)),e.R7$(),e.Y8G("disabled",t.verificationForm.invalid||t.carregando),e.R7$(),e.Y8G("ngIf",!t.carregando),e.R7$(),e.Y8G("ngIf",t.carregando)}}function U(n,r){if(1&n){const o=e.RV6();e.j41(0,"div",42),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.closeTermsModal())}),e.j41(1,"div",43),e.bIt("click",function(i){return e.eBV(o),e.Njj(i.stopPropagation())}),e.j41(2,"h3",44),e.EFF(3,"\u{1f4cb} Termos de Uso e Pol\xedtica de Privacidade"),e.k0s(),e.j41(4,"div",45)(5,"h4"),e.EFF(6,"\u{1f512} Pol\xedtica de Privacidade (LGPD)"),e.k0s(),e.j41(7,"p"),e.EFF(8," Em conformidade com a Lei Geral de Prote\xe7\xe3o de Dados (LGPD - Lei n\xba 13.709/2018), informamos que: "),e.k0s(),e.j41(9,"ul")(10,"li")(11,"strong"),e.EFF(12,"Coleta de Dados:"),e.k0s(),e.EFF(13," Coletamos apenas informa\xe7\xf5es necess\xe1rias para o funcionamento do portal (email, nome do personagem e senha do portal). "),e.k0s(),e.j41(14,"li")(15,"strong"),e.EFF(16,"Uso dos Dados:"),e.k0s(),e.EFF(17," Seus dados s\xe3o utilizados exclusivamente para autentica\xe7\xe3o e funcionalidades do portal Animous Mastery. "),e.k0s(),e.j41(18,"li")(19,"strong"),e.EFF(20,"Seguran\xe7a:"),e.k0s(),e.EFF(21," Implementamos medidas t\xe9cnicas e organizacionais para proteger seus dados pessoais. "),e.k0s(),e.j41(22,"li")(23,"strong"),e.EFF(24,"N\xe3o Compartilhamento:"),e.k0s(),e.EFF(25," N\xe3o compartilhamos, vendemos ou alugamos suas informa\xe7\xf5es pessoais a terceiros. "),e.k0s(),e.j41(26,"li")(27,"strong"),e.EFF(28,"Seus Direitos:"),e.k0s(),e.EFF(29," Voc\xea tem direito de acessar, corrigir, excluir ou portar seus dados pessoais. "),e.k0s()(),e.j41(30,"h4"),e.EFF(31,"\u26a0\ufe0f Declara\xe7\xf5es Importantes"),e.k0s(),e.j41(32,"ul")(33,"li")(34,"strong"),e.EFF(35,"N\xe3o Malicioso:"),e.k0s(),e.EFF(36," Este portal n\xe3o possui fins maliciosos e n\xe3o coleta dados para prejudicar usu\xe1rios. "),e.k0s(),e.j41(37,"li")(38,"strong"),e.EFF(39,"Sem Acesso ao Tibia:"),e.k0s(),e.EFF(40," N\xe3o temos e n\xe3o tentaremos obter acesso \xe0 sua conta do Tibia ou informa\xe7\xf5es relacionadas ao jogo. "),e.k0s(),e.j41(41,"li")(42,"strong"),e.EFF(43,"Independ\xeancia:"),e.k0s(),e.EFF(44," Este \xe9 um portal independente, n\xe3o afiliado oficialmente ao Tibia ou CipSoft. "),e.k0s(),e.j41(45,"li")(46,"strong"),e.EFF(47,"Responsabilidade:"),e.k0s(),e.EFF(48," O usu\xe1rio \xe9 respons\xe1vel por manter a seguran\xe7a de suas credenciais. "),e.k0s()(),e.j41(49,"h4"),e.EFF(50,"\u{1f4dc} Termos de Uso"),e.k0s(),e.j41(51,"ul")(52,"li"),e.EFF(53,"O uso deste portal \xe9 volunt\xe1rio e gratuito."),e.k0s(),e.j41(54,"li"),e.EFF(55," \xc9 proibido o uso para fins ilegais ou que violem os direitos de terceiros. "),e.k0s(),e.j41(56,"li"),e.EFF(57," Reservamo-nos o direito de modificar estes termos a qualquer momento. "),e.k0s(),e.j41(58,"li"),e.EFF(59," O uso continuado do portal ap\xf3s mudan\xe7as nos termos constitui aceita\xe7\xe3o das modifica\xe7\xf5es. "),e.k0s()(),e.j41(60,"p",46),e.EFF(61," Para d\xfavidas sobre esta pol\xedtica, entre em contato atrav\xe9s do portal. "),e.k0s()(),e.j41(62,"div",47)(63,"button",48),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.acceptTerms())}),e.EFF(64," Aceitar Termos "),e.k0s(),e.j41(65,"button",48),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.closeTermsModal())}),e.EFF(66," Fechar "),e.k0s()()()()}}function q(n,r){if(1&n){const o=e.RV6();e.j41(0,"div",49)(1,"div",43),e.bIt("click",function(i){return e.eBV(o),e.Njj(i.stopPropagation())}),e.j41(2,"h3",44),e.EFF(3,"\u{1f389} C\xf3digo Validado com Sucesso!"),e.k0s(),e.j41(4,"div",45)(5,"div",50)(6,"p",51)(7,"strong"),e.EFF(8,"Parab\xe9ns, aventureiro!"),e.k0s(),e.EFF(9," \u{1f37a} "),e.k0s(),e.j41(10,"p",52),e.EFF(11," Seu registro foi completado com sucesso! Agora voc\xea \xe9 um membro oficial da nossa taverna. "),e.k0s(),e.j41(12,"p",53),e.EFF(13," Estamos te teleportando para a tela de login em "),e.j41(14,"strong"),e.EFF(15),e.k0s(),e.EFF(16," segundos... "),e.k0s()()(),e.j41(17,"div",47)(18,"button",48),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.teleportNow())}),e.EFF(19," Teleportar Agora "),e.k0s()()()()}if(2&n){const o=e.XpG();e.R7$(15),e.JRh(o.teleportTimer)}}let J=(()=>{class n{constructor(o,t,i,l,m,s){this.router=o,this.route=t,this.fb=i,this.authService=l,this.analyticsService=m,this.scrollService=s,this.carregando=!1,this.showTermsModal=!1,this.showVerification=!1,this.showSuccessModal=!1,this.registeredEmail="",this.erro="",this.verificacaoErro="",this.teleportTimer=5,this.isFromForgotPassword=!1,this.validEmailDomains=["gmail.com","outlook.com","hotmail.com","yahoo.com","yahoo.com.br","uol.com.br","bol.com.br","ig.com.br","terra.com.br","globo.com","live.com","msn.com","protonmail.com","icloud.com","me.com","aol.com","mail.com","yandex.com","zoho.com","gmx.com"],this.registerForm=this.fb.group({email:["",[a.k0.required,a.k0.email,this.emailDomainValidator.bind(this)]],char:["",[a.k0.required,a.k0.minLength(2)]],password:["",[a.k0.required,a.k0.minLength(8),a.k0.pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*?&]{8,}$/)]],confirmPassword:["",[a.k0.required]],acceptTerms:[!1,[a.k0.requiredTrue]]},{validators:this.passwordMatchValidator}),this.verificationForm=this.fb.group({code:["",[a.k0.required,a.k0.minLength(6),a.k0.maxLength(6)]]})}ngOnInit(){this.scrollService.scrollToTop(),this.route.queryParams.subscribe(o=>{const t=o.email,i=o.showVerification;t&&"true"===i&&(console.log("Detectado par\xe2metros do forgot password:",{email:t,showVerification:i}),this.registerForm.patchValue({email:t}),this.registeredEmail=t,this.showVerification=!0,this.isFromForgotPassword=!0,this.analyticsService.trackUserAction("verification_from_forgot_password","registration",t))})}emailDomainValidator(o){if(!o.value)return null;const i=o.value.toLowerCase().split("@")[1];return i&&this.validEmailDomains.includes(i)?["teste.com","test.com","example.com","fake.com","invalid.com"].includes(i)?{invalidDomain:!0}:null:{invalidDomain:!0}}passwordMatchValidator(o){const t=o.get("password"),i=o.get("confirmPassword");return t&&i&&t.value!==i.value?(i.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(i&&i.hasError("passwordMismatch")&&i.setErrors(null),null)}openTermsModal(){this.showTermsModal=!0}closeTermsModal(){this.showTermsModal=!1}acceptTerms(){this.registerForm.patchValue({acceptTerms:!0}),this.closeTermsModal()}onSubmit(){if(this.registerForm.valid){this.analyticsService.trackRegistration("email"),this.carregando=!0,this.erro="";const o=this.registerForm.value;this.authService.registerUser({email:o.email,password:o.password,char:o.char}).subscribe({next:t=>{t?.success?(this.registeredEmail=o.email,this.showVerification=!0,this.analyticsService.trackFormSubmission("registration",!0)):(this.erro=t.message||"Erro no registro. Tente novamente.",this.analyticsService.trackFormSubmission("registration",!1)),this.carregando=!1},error:t=>{this.carregando=!1,this.analyticsService.trackFormSubmission("registration",!1),this.erro=400===t.status&&"Email j\xe1 cadastrado"===t.error?.message?"\u{1f37a} Este email m\xe1gico j\xe1 est\xe1 registrado na taverna. Tente outro ou recupere seu juramento.":"Erro ao registrar. Tente novamente."}})}else Object.keys(this.registerForm.controls).forEach(o=>{this.registerForm.get(o)?.markAsTouched()})}onVerifyCode(){var o=this;return(0,p.A)(function*(){if(o.verificationForm.valid){o.carregando=!0,o.verificacaoErro="";const t=o.verificationForm.value;try{const i=yield o.authService.validateVerificationCode({email:o.registeredEmail,code:t.code}).toPromise();i?.success?(o.carregando=!1,o.showSuccessModal=!0,o.analyticsService.trackFormSubmission("verification",!0),o.startTeleportTimer()):(o.verificacaoErro="C\xf3digo inv\xe1lido"===i?.message?"\u26a0\ufe0f O c\xf3digo m\xe1gico informado est\xe1 incorreto. Confira o pergaminho enviado ao seu email e tente novamente!":i?.message||"Erro na valida\xe7\xe3o do c\xf3digo.",o.carregando=!1,o.analyticsService.trackFormSubmission("verification",!1))}catch(i){o.verificacaoErro=400===i?.status&&"C\xf3digo inv\xe1lido"===i?.error?.message?"\u26a0\ufe0f O c\xf3digo m\xe1gico informado est\xe1 incorreto. Confira o pergaminho enviado ao seu email e tente novamente!":"Erro ao validar o c\xf3digo. Tente novamente.",o.carregando=!1,o.analyticsService.trackFormSubmission("verification",!1)}}else Object.keys(o.verificationForm.controls).forEach(t=>{o.verificationForm.get(t)?.markAsTouched()})})()}startTeleportTimer(){this.teleportTimer=5,this.teleportInterval=setInterval(()=>{this.teleportTimer--,this.teleportTimer<=0&&this.teleportToLogin()},1e3)}teleportToLogin(){this.teleportInterval&&clearInterval(this.teleportInterval),this.showSuccessModal=!1,this.router.navigate(["/login"])}teleportNow(){this.teleportToLogin()}backToRegister(){this.showVerification=!1,this.verificationForm.reset()}register(){this.onSubmit()}goToLogin(){this.authService.logout(),this.router.navigate(["/login"])}goToVerification(){const o=this.registerForm.get("email")?.value;if(!o||""===o.trim())return this.registerForm.get("email")?.markAsTouched(),void(this.erro="\u26a0\ufe0f Por favor, digite seu email antes de prosseguir para a valida\xe7\xe3o do c\xf3digo.");this.registerForm.get("email")?.invalid?this.erro="\u26a0\ufe0f Por favor, insira um email v\xe1lido antes de prosseguir.":(this.erro="",this.registeredEmail=o,this.showVerification=!0,this.analyticsService.trackUserAction("go_to_verification","registration",o))}static{this.\u0275fac=function(t){return new(t||n)(e.rXU(g.Ix),e.rXU(g.nX),e.rXU(a.ok),e.rXU(_.u),e.rXU(f.c),e.rXU(v.b))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-register"]],decls:9,vars:5,consts:[["class","svg-loader-overlay",4,"ngIf"],[1,"parchment-background"],[1,"consulta-layout"],[1,"tavernatibiana-title"],["class","parchment-card",3,"formGroup","ngSubmit",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"svg-loader-overlay"],[1,"svg-loader"],["fill","#000000","height","200px","width","200px","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 452.022 452.022",0,"xml","space","preserve"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M440.761,380.351l-50.512-50.512l24.481-24.481c3.905-3.905,3.905-10.237,0-14.143c-3.905-3.904-10.237-3.904-14.143,0 l-9.494,9.494l-42.368-42.368c6.562-23.401,9.894-47.59,9.894-72l-0.001-153.69c0-4.777-3.379-8.887-8.065-9.811 c-113.629-22.402-228.859-22.402-342.488,0C3.379,23.764,0,27.875,0,32.652v153.69c0,55.105,16.721,108.08,48.356,153.2 c31.635,45.119,75.739,78.897,127.545,97.681c1.101,0.399,2.255,0.599,3.409,0.599c1.154,0,2.308-0.2,3.41-0.599 c40.392-14.651,76.722-38.923,105.694-70.5l18.334,18.334l-9.494,9.494c-3.905,3.905-3.905,10.237,0,14.143 c1.953,1.953,4.512,2.929,7.071,2.929c2.559,0,5.119-0.977,7.071-2.929l24.481-24.481l50.512,50.512 c7.262,7.261,16.917,11.26,27.187,11.26s19.924-3.999,27.186-11.26c7.262-7.262,11.261-16.917,11.261-27.186 C452.022,397.268,448.023,387.613,440.761,380.351z M359.946,331.858l-3.954,3.954L162.901,142.72l45.434,3.515l168.616,168.617 L359.946,331.858z M303.621,186.342c0,8.507-0.522,16.987-1.523,25.371l-82.234-82.234c-1.687-1.687-3.921-2.715-6.3-2.899 l-76.09-5.886c-2.916-0.229-5.777,0.833-7.842,2.899c-2.065,2.065-3.124,4.93-2.899,7.842l5.886,76.09 c0.184,2.379,1.212,4.613,2.899,6.3L249.48,327.788c-19.637,21.998-43.181,39.294-70.167,51.487 c-34.45-15.596-64.093-40.179-85.924-71.304C68.275,272.143,55,230.084,55,186.342l0-110.473c82.527-15.788,166.093-15.788,248.62,0 V186.342z M179.309,417.156c-46.45-17.606-86.009-48.352-114.577-89.097C35.468,286.322,20,237.317,20,186.342l0-145.43 c105.764-19.83,212.856-19.83,318.62,0v145.43c0,18.764-2.131,37.386-6.331,55.563l-12.648-12.648 c2.637-14.044,3.979-28.452,3.979-42.915l-0.001-118.69c0-4.753-3.346-8.849-8.003-9.798c-90.445-18.438-182.167-18.438-272.614,0 C38.345,58.802,35,62.899,35,67.652v118.69c0,47.872,14.527,93.9,42.013,133.112c24.797,35.354,58.809,62.997,98.359,79.939 c1.257,0.539,2.597,0.808,3.938,0.808c1.34,0,2.68-0.269,3.937-0.808c31.01-13.282,57.997-32.593,80.394-57.444l10.618,10.618 C248.179,381.194,215.58,403.39,179.309,417.156z M152.273,202.297l-3.514-45.434l193.091,193.091l-20.96,20.959L152.273,202.297z M376.107,343.981l6.336,6.336l-15.345,36.829l-17.078-17.078L376.107,343.981z M382.392,402.44l15.345-36.829l11.178,11.178 l-15.345,36.829L382.392,402.44z M426.619,420.58L426.619,420.58c-3.483,3.484-8.116,5.403-13.043,5.403 c-1.141,0-2.262-0.114-3.361-0.315l13.994-33.585l2.41,2.41c3.484,3.484,5.403,8.116,5.403,13.043S430.103,417.096,426.619,420.58z"],[1,"parchment-card",3,"ngSubmit","formGroup"],[1,"medieval-disclaimer"],["src","assets/icons-svg/beer-mug.svg","alt","Criatura",1,"svg-icon"],[2,"margin-left","17px"],[2,"color","#b97a1a"],["class","login-error",4,"ngIf"],[1,"input-icon-group"],["src","assets/icons-svg/id-card.svg","alt","Email",1,"svg-icon"],["id","email","type","email","formControlName","email","placeholder","Email m\xe1gico","required","",1,"input-medieval"],["src","assets/icons-svg/swordsman.svg","alt","Personagem",1,"svg-icon"],["id","char","type","text","formControlName","char","placeholder","Nome do personagem no Tibia","required","",1,"input-medieval"],["src","assets/icons-svg/key-skills.svg","alt","Senha",1,"svg-icon"],["id","password","type","password","formControlName","password","placeholder","Senha do portal (m\xedn. 8 caracteres)","required","",1,"input-medieval"],["src","assets/icons-svg/key-skills.svg","alt","Confirmar Senha",1,"svg-icon"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirmar senha","required","",1,"input-medieval"],[1,"terms-section"],[1,"terms-checkbox"],["type","checkbox","id","acceptTerms","formControlName","acceptTerms"],["for","acceptTerms"],["type","button",1,"medieval-link",2,"margin-top","0 !important",3,"click"],["type","submit",1,"button-medieval",3,"disabled"],[4,"ngIf"],[1,"login-links"],[1,"medieval-link",3,"click"],[1,"login-error"],["src","assets/icons-svg/key-skills.svg","alt","C\xf3digo",1,"svg-icon"],["id","code","type","text","formControlName","code","placeholder","C\xf3digo de verifica\xe7\xe3o (6 d\xedgitos)","required","","maxlength","6","pattern","[0-9]{6}",1,"input-medieval"],["type","button",1,"medieval-link",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-conteudo",3,"click"],[1,"modal-titulo"],[1,"modal-opcoes"],[1,"contact-info"],[1,"modal-botoes"],["type","button",1,"button-medieval",3,"click"],[1,"modal-overlay"],[2,"text-align","center","margin","2rem 0"],[2,"font-size","1.2rem","margin-bottom","1rem"],[2,"font-size","1.1rem","margin-bottom","1.5rem"],[2,"font-size","1rem","color","#b97a1a","margin-bottom","2rem"]],template:function(t,i){1&t&&(e.DNE(0,h,7,0,"div",0),e.j41(1,"div",1)(2,"div",2)(3,"h1",3),e.EFF(4,"Registro do Aventureiro"),e.k0s(),e.DNE(5,S,54,10,"form",4)(6,B,22,9,"form",4),e.k0s()(),e.DNE(7,U,67,0,"div",5)(8,q,20,1,"div",6)),2&t&&(e.Y8G("ngIf",i.carregando),e.R7$(5),e.Y8G("ngIf",!i.showVerification),e.R7$(),e.Y8G("ngIf",i.showVerification),e.R7$(),e.Y8G("ngIf",i.showTermsModal),e.R7$(),e.Y8G("ngIf",i.showSuccessModal))},dependencies:[u.MD,u.bT,a.YN,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.tU,a.R_,a.X1,a.j4,a.JD],styles:[".consulta-layout[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem;box-sizing:border-box}input.input-medieval[_ngcontent-%COMP%]{flex:1;margin-bottom:.5rem}.button-medieval[_ngcontent-%COMP%]{width:70%;margin:1rem auto 0;display:block}.login-error[_ngcontent-%COMP%]{color:#992e2e;font-weight:700;margin-bottom:.5rem;text-align:center;font-family:MedievalSharp,serif;font-size:.95rem}.input-icon-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.login-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.8rem;margin-top:1.5rem;margin-bottom:1em}.login-links[_ngcontent-%COMP%]   .medieval-link[_ngcontent-%COMP%]{text-decoration:underline;text-align:center;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s ease}.login-links[_ngcontent-%COMP%]   .medieval-link[_ngcontent-%COMP%]:hover{background-color:#7b5e3b1a}.medieval-link[_ngcontent-%COMP%]{color:#7b5e3b;text-decoration:underline;cursor:pointer;font-weight:700;transition:color .2s;background:none;border:none;padding:0;font-size:inherit}.medieval-link[_ngcontent-%COMP%]:hover{color:#a88d5a}.medieval-disclaimer[_ngcontent-%COMP%]{background:linear-gradient(#fdf8e4,#f4e6b3);border:2px solid #a67c52;border-radius:8px;padding:1.2rem 1.5rem;margin-bottom:1.2rem;font-family:Georgia,serif;font-size:1.08rem;color:#3b2a1a;box-shadow:inset 0 0 8px #8b451326,2px 2px 6px #0000001a;text-align:left}.medieval-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem;line-height:1.5}.medieval-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.medieval-disclaimer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#5b3e1d}.terms-section[_ngcontent-%COMP%]{margin:1.2rem 0 .5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.terms-section[_ngcontent-%COMP%]   .terms-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;gap:.5em;flex-wrap:nowrap;justify-content:flex-start}.terms-section[_ngcontent-%COMP%]   .terms-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#8b5e3c;margin:0 8px 0 0;flex-shrink:0;position:relative;top:1px}.terms-section[_ngcontent-%COMP%]   .terms-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3em;margin:0;font-size:1rem;line-height:1.4;color:#3b2a1a;font-family:Georgia,serif;cursor:pointer;flex-wrap:wrap}.terms-section[_ngcontent-%COMP%]   .terms-checkbox[_ngcontent-%COMP%]   .medieval-link[_ngcontent-%COMP%]{display:inline;margin-left:.3em;white-space:normal;word-break:break-word}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:999;padding:1rem;box-sizing:border-box}.modal-conteudo[_ngcontent-%COMP%]{background:linear-gradient(#fef8e7,#f5e4bc);border:2px solid #8b5e3c;border-radius:10px;max-width:95vw;max-height:95vh;width:100%;overflow-y:auto;padding:20px;box-sizing:border-box;font-family:MedievalSharp,cursive;position:relative}.modal-titulo[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem;text-align:center;color:#5b3e1d}.modal-opcoes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.modal-opcoes[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#5b3e1d;margin:1rem 0 .5rem;font-size:1.1rem}.modal-opcoes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#3b2a1a;line-height:1.5;margin:.5rem 0;font-size:.9rem}.modal-opcoes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:1.5rem}.modal-opcoes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#3b2a1a;line-height:1.4;margin-bottom:.5rem;font-size:.9rem}.modal-opcoes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#5b3e1d}.modal-opcoes[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{font-style:italic;color:#8b5e3c;text-align:center;margin-top:1rem;padding:.8rem;background:#8b5e3c1a;border-radius:6px}.modal-botoes[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:1em}.modal-botoes[_ngcontent-%COMP%]   .button-medieval[_ngcontent-%COMP%]{width:auto;margin:0}@media (max-width: 768px){.consulta-layout[_ngcontent-%COMP%]{padding:.5rem;justify-content:flex-start;min-height:auto}.parchment-card[_ngcontent-%COMP%]{max-width:100%;padding:1rem;margin:1rem 0}.medieval-disclaimer[_ngcontent-%COMP%]{font-size:.95rem;padding:1rem .8rem}.terms-section[_ngcontent-%COMP%]   .terms-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:22px;height:22px}.terms-section[_ngcontent-%COMP%]   .terms-checkbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;text-align:center}.modal-conteudo[_ngcontent-%COMP%]{font-size:.9rem;padding:16px;max-width:98vw;max-height:98vh}.modal-opcoes[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.modal-opcoes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .modal-opcoes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85rem}.modal-titulo[_ngcontent-%COMP%]{font-size:1.3rem}.button-medieval[_ngcontent-%COMP%]{width:85%}.login-links[_ngcontent-%COMP%]{gap:.7rem}.login-links[_ngcontent-%COMP%]   .medieval-link[_ngcontent-%COMP%]{padding:.45rem .9rem;font-size:.98rem}}@media (max-width: 480px){.consulta-layout[_ngcontent-%COMP%]{padding:.5rem}.parchment-card[_ngcontent-%COMP%]{max-width:100%;padding:.8rem}.medieval-disclaimer[_ngcontent-%COMP%]{font-size:.9rem;padding:.8rem .6rem}.terms-section[_ngcontent-%COMP%]   .terms-checkbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.3}.modal-conteudo[_ngcontent-%COMP%]{padding:12px;font-size:.85rem}.modal-opcoes[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem}.modal-opcoes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .modal-opcoes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem}.modal-titulo[_ngcontent-%COMP%]{font-size:1.2rem}.modal-botoes[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.modal-botoes[_ngcontent-%COMP%]   .button-medieval[_ngcontent-%COMP%]{width:100%}.button-medieval[_ngcontent-%COMP%]{width:90%}.input-icon-group[_ngcontent-%COMP%]{gap:.3rem}.svg-icon[_ngcontent-%COMP%]{width:20px;height:20px}.login-links[_ngcontent-%COMP%]{gap:.6rem;margin-top:1.2rem}.login-links[_ngcontent-%COMP%]   .medieval-link[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.95rem;width:100%;max-width:280px}}"]})}}return n})()}}]);